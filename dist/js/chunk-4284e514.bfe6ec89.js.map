{"version":3,"sources":["webpack:///./node_modules/core-js/modules/web.dom-collections.for-each.js","webpack:///./node_modules/core-js/internals/array-for-each.js","webpack:///./node_modules/core-js/modules/es.array.for-each.js","webpack:///./src/views/LiveNow.vue?f6f2","webpack:///./src/components/Message.vue?cb80","webpack:///src/components/Message.vue","webpack:///./src/components/Message.vue?93ea","webpack:///./src/components/Message.vue","webpack:///./src/components/Timer.vue?d1be","webpack:///src/components/Timer.vue","webpack:///./src/components/Timer.vue?a512","webpack:///./src/components/Timer.vue","webpack:///src/views/LiveNow.vue","webpack:///./src/views/LiveNow.vue?3c85","webpack:///./src/views/LiveNow.vue"],"names":["global","DOMIterables","forEach","createNonEnumerableProperty","COLLECTION_NAME","Collection","CollectionPrototype","prototype","error","$forEach","arrayMethodIsStrict","arrayMethodUsesToLength","STRICT_METHOD","USES_TO_LENGTH","module","exports","callbackfn","this","arguments","length","undefined","$","target","proto","forced","render","_vm","_h","$createElement","_c","_self","staticClass","ref","attrs","_v","staticStyle","on","$event","toEndLive","_l","message","key","id","staticRenderFns","_s","username","_m","name","props","data","component","hour","minute","sec","second","created","methods","computed","$store","state","secondLive","Math","floor","components","Message","Timer","client","allMessage","scrollPosition","chatHeight","scrollHeight","endLive","sectionWidth","getChat","db","collection","doc","currentOption","channel","orderBy","snapshot","docChanges","change","type","msg","setTimeout","scrollToEnd","chat","offsetHeight","addEventListener","handleScroll","scrollTop","e","matchHeight","$refs","infoBox","clientWidth","sectionLiveWidth","delete","then","title","mounted"],"mappings":"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","file":"js/chunk-4284e514.bfe6ec89.js","sourcesContent":["var global = require('../internals/global');\nvar DOMIterables = require('../internals/dom-iterables');\nvar forEach = require('../internals/array-for-each');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nfor (var COLLECTION_NAME in DOMIterables) {\n  var Collection = global[COLLECTION_NAME];\n  var CollectionPrototype = Collection && Collection.prototype;\n  // some Chrome versions have non-configurable methods on DOMTokenList\n  if (CollectionPrototype && CollectionPrototype.forEach !== forEach) try {\n    createNonEnumerableProperty(CollectionPrototype, 'forEach', forEach);\n  } catch (error) {\n    CollectionPrototype.forEach = forEach;\n  }\n}\n","'use strict';\nvar $forEach = require('../internals/array-iteration').forEach;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar STRICT_METHOD = arrayMethodIsStrict('forEach');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('forEach');\n\n// `Array.prototype.forEach` method implementation\n// https://tc39.github.io/ecma262/#sec-array.prototype.foreach\nmodule.exports = (!STRICT_METHOD || !USES_TO_LENGTH) ? function forEach(callbackfn /* , thisArg */) {\n  return $forEach(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n} : [].forEach;\n","'use strict';\nvar $ = require('../internals/export');\nvar forEach = require('../internals/array-for-each');\n\n// `Array.prototype.forEach` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.foreach\n$({ target: 'Array', proto: true, forced: [].forEach != forEach }, {\n  forEach: forEach\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"flex flex-wrap\"},[_c('div',{ref:\"infoBox\",staticClass:\"bg-green-100 w-1/2\",attrs:{\"id\":\"define-width\"}},[_c('div',{staticClass:\"flex flex-wrap justify-between\"},[_c('h1',{staticClass:\"text-3xl mb-6\"},[_vm._v(\"Start to Live\")]),_c('div',{staticClass:\"text-xl items-baseline cursor-pointer bg-red-600 px-5 py-2 rounded-lg hover:bg-red-700 text-white\",staticStyle:{\"height\":\"45px\"},on:{\"click\":function($event){return _vm.toEndLive()}}},[_vm._v(\" End Live \"),_c('span',{staticClass:\"material-icons\",staticStyle:{\"vertical-align\":\"bottom\",\"margin-bottom\":\"6px\"}},[_vm._v(\"live_tv\")])])]),_c('div',{staticStyle:{\"height\":\"460px\"}}),_c('Timer')],1),_c('div',{staticClass:\"bg-red-100 h-12 w-1/2 pl-5\"},[_c('h1',{staticClass:\"text-xl mb-6 mt-2\"},[_vm._v(\"Comments\")]),_c('div',{staticClass:\"w-full overflow-auto\",staticStyle:{\"height\":\"80vh\"},attrs:{\"id\":\"chat\"}},_vm._l((_vm.allMessage),function(message){return _c('Message',{key:message.id,attrs:{\"message\":message}})}),1)])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"bg-gray-300 inline-block px-3 py-1 rounded-lg mb-3\",staticStyle:{\"max-width\":\"90%\"}},[_c('span',{staticClass:\"text-primary font-bold\"},[_vm._v(_vm._s(_vm.message.username))]),_vm._v(\" : \"+_vm._s(_vm.message.message)+\" \")]),_vm._m(0)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"inline-block pt-0 h-full\"},[_c('span',{staticClass:\"material-icons\"},[_vm._v(\"reply\")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div class=\"bg-gray-300 inline-block px-3 py-1 rounded-lg mb-3\" style=\"max-width: 90%\">\n      <span class=\"text-primary font-bold\">{{ message.username }}</span> : {{ message.message }}\n    </div>\n    <div class=\"inline-block pt-0 h-full\">\n      <span class=\"material-icons\">reply</span>\n    </div>\n  </div>\n\n</template>\n\n<script>\nexport default {\n  name: \"Message\",\n  props: ['message'],\n  data() {\n    return {}\n  }\n}\n</script>\n\n<style scoped>\n\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Message.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Message.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Message.vue?vue&type=template&id=6dd4ff78&scoped=true&\"\nimport script from \"./Message.vue?vue&type=script&lang=js&\"\nexport * from \"./Message.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6dd4ff78\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_vm._v(_vm._s(_vm.hour)+\":\"+_vm._s(_vm.minute)+\":\"+_vm._s(_vm.sec))])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>{{ hour }}:{{ minute }}:{{ sec }}</div>\n</template>\n\n<script>\nexport default {\n  name: \"Timer\",\n  data() {\n    return {\n      second: 0,\n    }\n  },\n  created() {\n    // this.start()\n  },\n  methods: {},\n  computed: {\n    sec() {\n      return this.$store.state.secondLive % 60\n    },\n    minute() {\n      return Math.floor(this.$store.state.secondLive / 60) % 60\n    },\n    hour() {\n      return Math.floor(this.$store.state.secondLive / 3600)\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Timer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Timer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Timer.vue?vue&type=template&id=7017f932&scoped=true&\"\nimport script from \"./Timer.vue?vue&type=script&lang=js&\"\nexport * from \"./Timer.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7017f932\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div>\n    <div class=\"flex flex-wrap\">\n      <div id=\"define-width\" ref=\"infoBox\" class=\"bg-green-100 w-1/2\">\n        <div class=\"flex flex-wrap justify-between\">\n          <h1 class=\"text-3xl mb-6\">Start to Live</h1>\n          <div\n              @click=\"toEndLive()\"\n              style=\"height: 45px\"\n              class=\"text-xl items-baseline cursor-pointer bg-red-600 px-5 py-2 rounded-lg hover:bg-red-700 text-white\"\n          >\n            End Live\n            <span class=\"material-icons\" style=\"vertical-align: bottom;margin-bottom: 6px\">live_tv</span>\n          </div>\n        </div>\n        <div style=\"height:460px \"></div>\n        <Timer/>\n      </div>\n      <div class=\"bg-red-100 h-12 w-1/2 pl-5\">\n        <h1 class=\"text-xl mb-6 mt-2\">Comments</h1>\n        <div id=\"chat\" class=\"w-full overflow-auto\" style=\"height: 80vh;\">\n          <Message v-for=\"message in allMessage\" :key=\"message.id\" :message=\"message\"/>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport AgoraRTC from \"agora-rtc-sdk-ng\";\nimport firebase from \"firebase\";\nimport Message from \"@/components/Message\";\nimport Timer from \"@/components/Timer\";\n// import LiveViewer from \"@/components/LiveViewer\";\n\nconst db = firebase.firestore();\n\nexport default {\n  name: \"LiveNow\",\n  components: {\n    Message,\n    Timer\n    // LiveViewer\n  },\n  props: [],\n  data() {\n    return {\n      client: {},\n      allMessage: [],\n      scrollPosition: 0, // position of scroll chat panel\n      chatHeight: 0, // height of chat panel\n      scrollHeight: 0, // scrollPosition + chatHeight\n      endLive: false,\n      sectionWidth: 0 // define width of video live\n    }\n  },\n  created() {\n    this.getChat()\n  },\n  methods: {\n    async joinChanel() {\n      this.client = AgoraRTC.createClient({mode: 'live', codec: \"h264\"})\n    },\n    getChat() {\n      db.collection('CurrentLive').doc(this.$store.state.currentOption.channel).collection('Chats').orderBy(\"timeStamp\",).onSnapshot(snapshot => {\n        snapshot.docChanges().forEach(change => {\n          if (change.type === 'added') {\n            let doc = change.doc;\n            this.allMessage.push({\n              message: doc.data().msg,\n              username: doc.data().username\n            });\n            setTimeout(this.scrollToEnd, 1000);\n          }\n        });\n      });\n    },\n    scrollToEnd() {\n      let chat = this.$el.querySelector(\"#chat\");\n      this.chatHeight = chat.offsetHeight\n      chat.addEventListener(\"scroll\", this.handleScroll);\n      if (this.chatHeight + this.scrollPosition >= this.scrollHeight - 40) {\n        chat.scrollTop = chat.scrollHeight;\n      }\n      this.scrollHeight = chat.scrollHeight\n    },\n    handleScroll(e) {\n      this.scrollPosition = e.target.scrollTop\n    },\n    matchHeight() {\n      this.sectionWidth = this.$refs.infoBox.clientWidth;\n      this.$store.state.sectionLiveWidth = this.$refs.infoBox.clientWidth\n    },\n    toEndLive() {\n      this.$store.state.endLive = true\n      db.collection('CurrentLive').doc(this.$store.state.currentOption.channel).delete().then(() => {\n        this.$notify({\n          title: 'Success',\n          message: 'End Live Complete',\n          type: 'success'\n        });\n        this.$store.commit('setCurrentOption', null)\n      }).catch(e => {\n        this.$notify({\n          title: 'Error',\n          message: e,\n          type: 'error'\n        });\n      })\n    }\n  },\n  mounted() {\n    this.matchHeight()\n  },\n\n}\n</script>\n\n<style scoped>\n\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LiveNow.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LiveNow.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LiveNow.vue?vue&type=template&id=3e14d710&scoped=true&\"\nimport script from \"./LiveNow.vue?vue&type=script&lang=js&\"\nexport * from \"./LiveNow.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3e14d710\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}