{"map":{"version":3,"sources":["js/chunk-4284e514.bfe6ec89.js"],"names":["window","push","159b","module","exports","__webpack_require__","global","DOMIterables","forEach","createNonEnumerableProperty","COLLECTION_NAME","Collection","CollectionPrototype","prototype","error","17c2","$forEach","arrayMethodIsStrict","arrayMethodUsesToLength","STRICT_METHOD","USES_TO_LENGTH","callbackfn","this","arguments","length","undefined","4160","$","target","proto","forced","d07e","__webpack_exports__","r","render","_vm","_h","$createElement","_c","_self","staticClass","ref","attrs","id","_v","staticStyle","height","on","click","$event","toEndLive","vertical-align","margin-bottom","_l","message","key","staticRenderFns","asyncToGenerator","AgoraRTC_N_production","AgoraRTC_N_production_default","n","index_cjs","index_cjs_default","Messagevue_type_template_id_6dd4ff78_scoped_true_render","max-width","_s","username","_m","Messagevue_type_template_id_6dd4ff78_scoped_true_staticRenderFns","Messagevue_type_script_lang_js_","name","props","data","components_Messagevue_type_script_lang_js_","componentNormalizer","component","Object","Message","Timervue_type_template_id_7017f932_scoped_true_render","hour","minute","sec","Timervue_type_template_id_7017f932_scoped_true_staticRenderFns","Timervue_type_script_lang_js_","second","created","methods","computed","$store","state","secondLive","Math","floor","components_Timervue_type_script_lang_js_","Timer_component","Timer","db","a","firestore","LiveNowvue_type_script_lang_js_","components","client","allMessage","scrollPosition","chatHeight","scrollHeight","endLive","sectionWidth","getChat","joinChanel","_this","regeneratorRuntime","mark","_callee","wrap","_context","prev","next","createClient","mode","codec","stop","_this2","collection","doc","currentOption","channel","orderBy","onSnapshot","snapshot","docChanges","change","type","msg","setTimeout","scrollToEnd","chat","$el","querySelector","offsetHeight","addEventListener","handleScroll","scrollTop","e","matchHeight","$refs","infoBox","clientWidth","sectionLiveWidth","_this3","delete","then","$notify","title","commit","catch","mounted","views_LiveNowvue_type_script_lang_js_","LiveNow_component"],"mappings":"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"},"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-4284e514\"],{\"159b\":function(t,e,s){var i=s(\"da84\"),n=s(\"fdbc\"),r=s(\"17c2\"),a=s(\"9112\");for(var o in n){var c=i[o],l=c&&c.prototype;if(l&&l.forEach!==r)try{a(l,\"forEach\",r)}catch(h){l.forEach=r}}},\"17c2\":function(t,e,s){\"use strict\";var i=s(\"b727\").forEach,n=s(\"a640\"),r=s(\"ae40\"),a=n(\"forEach\"),o=r(\"forEach\");t.exports=a&&o?[].forEach:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}},4160:function(t,e,s){\"use strict\";var i=s(\"23e7\"),n=s(\"17c2\");i({target:\"Array\",proto:!0,forced:[].forEach!=n},{forEach:n})},d07e:function(t,e,s){\"use strict\";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s(\"div\",[s(\"div\",{staticClass:\"flex flex-wrap\"},[s(\"div\",{ref:\"infoBox\",staticClass:\"bg-green-100 w-1/2\",attrs:{id:\"define-width\"}},[s(\"div\",{staticClass:\"flex flex-wrap justify-between\"},[s(\"h1\",{staticClass:\"text-3xl mb-6\"},[t._v(\"Start to Live\")]),s(\"div\",{staticClass:\"text-xl items-baseline cursor-pointer bg-red-600 px-5 py-2 rounded-lg hover:bg-red-700 text-white\",staticStyle:{height:\"45px\"},on:{click:function(e){return t.toEndLive()}}},[t._v(\" End Live \"),s(\"span\",{staticClass:\"material-icons\",staticStyle:{\"vertical-align\":\"bottom\",\"margin-bottom\":\"6px\"}},[t._v(\"live_tv\")])])]),s(\"div\",{staticStyle:{height:\"460px\"}}),s(\"Timer\")],1),s(\"div\",{staticClass:\"bg-red-100 h-12 w-1/2 pl-5\"},[s(\"h1\",{staticClass:\"text-xl mb-6 mt-2\"},[t._v(\"Comments\")]),s(\"div\",{staticClass:\"w-full overflow-auto\",staticStyle:{height:\"80vh\"},attrs:{id:\"chat\"}},t._l(t.allMessage,(function(t){return s(\"Message\",{key:t.id,attrs:{message:t}})})),1)])])])},n=[],r=(s(\"4160\"),s(\"159b\"),s(\"96cf\"),s(\"1da1\")),a=s(\"e671\"),o=s.n(a),c=s(\"8aa5\"),l=s.n(c),h=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s(\"div\",[s(\"div\",{staticClass:\"bg-gray-300 inline-block px-3 py-1 rounded-lg mb-3\",staticStyle:{\"max-width\":\"90%\"}},[s(\"span\",{staticClass:\"text-primary font-bold\"},[t._v(t._s(t.message.username))]),t._v(\" : \"+t._s(t.message.message)+\" \")]),t._m(0)])},u=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s(\"div\",{staticClass:\"inline-block pt-0 h-full\"},[s(\"span\",{staticClass:\"material-icons\"},[t._v(\"reply\")])])}],d={name:\"Message\",props:[\"message\"],data:function(){return{}}},f=d,v=s(\"2877\"),m=Object(v[\"a\"])(f,h,u,!1,null,\"6dd4ff78\",null),p=m.exports,g=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s(\"div\",[t._v(t._s(t.hour)+\":\"+t._s(t.minute)+\":\"+t._s(t.sec))])},x=[],b={name:\"Timer\",data:function(){return{second:0}},created:function(){},methods:{},computed:{sec:function(){return this.$store.state.secondLive%60},minute:function(){return Math.floor(this.$store.state.secondLive/60)%60},hour:function(){return Math.floor(this.$store.state.secondLive/3600)}}},C=b,_=Object(v[\"a\"])(C,g,x,!1,null,\"7017f932\",null),y=_.exports,E=l.a.firestore(),w={name:\"LiveNow\",components:{Message:p,Timer:y},props:[],data:function(){return{client:{},allMessage:[],scrollPosition:0,chatHeight:0,scrollHeight:0,endLive:!1,sectionWidth:0}},created:function(){this.getChat()},methods:{joinChanel:function(){var t=this;return Object(r[\"a\"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.client=o.a.createClient({mode:\"live\",codec:\"h264\"});case 1:case\"end\":return e.stop()}}),e)})))()},getChat:function(){var t=this;E.collection(\"CurrentLive\").doc(this.$store.state.currentOption.channel).collection(\"Chats\").orderBy(\"timeStamp\").onSnapshot((function(e){e.docChanges().forEach((function(e){if(\"added\"===e.type){var s=e.doc;t.allMessage.push({message:s.data().msg,username:s.data().username}),setTimeout(t.scrollToEnd,1e3)}}))}))},scrollToEnd:function(){var t=this.$el.querySelector(\"#chat\");this.chatHeight=t.offsetHeight,t.addEventListener(\"scroll\",this.handleScroll),this.chatHeight+this.scrollPosition>=this.scrollHeight-40&&(t.scrollTop=t.scrollHeight),this.scrollHeight=t.scrollHeight},handleScroll:function(t){this.scrollPosition=t.target.scrollTop},matchHeight:function(){this.sectionWidth=this.$refs.infoBox.clientWidth,this.$store.state.sectionLiveWidth=this.$refs.infoBox.clientWidth},toEndLive:function(){var t=this;this.$store.state.endLive=!0,E.collection(\"CurrentLive\").doc(this.$store.state.currentOption.channel).delete().then((function(){t.$notify({title:\"Success\",message:\"End Live Complete\",type:\"success\"}),t.$store.commit(\"setCurrentOption\",null)})).catch((function(e){t.$notify({title:\"Error\",message:e,type:\"error\"})}))}},mounted:function(){this.matchHeight()}},$=w,L=Object(v[\"a\"])($,i,n,!1,null,\"3e14d710\",null);e[\"default\"]=L.exports}}]);","extractedComments":[]}