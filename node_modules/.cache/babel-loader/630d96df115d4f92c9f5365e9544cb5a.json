{"remainingRequest":"/Users/anusornmennakred/Documents/Vue/live-homepro-admin/node_modules/thread-loader/dist/cjs.js!/Users/anusornmennakred/Documents/Vue/live-homepro-admin/node_modules/babel-loader/lib/index.js!/Users/anusornmennakred/Documents/Vue/live-homepro-admin/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/anusornmennakred/Documents/Vue/live-homepro-admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/anusornmennakred/Documents/Vue/live-homepro-admin/src/components/LiveViewer.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/anusornmennakred/Documents/Vue/live-homepro-admin/src/components/LiveViewer.vue","mtime":1597657854068},{"path":"/Users/anusornmennakred/Documents/Vue/live-homepro-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/anusornmennakred/Documents/Vue/live-homepro-admin/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/anusornmennakred/Documents/Vue/live-homepro-admin/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/anusornmennakred/Documents/Vue/live-homepro-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/anusornmennakred/Documents/Vue/live-homepro-admin/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuam9pbiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmciOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudmFsdWVzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvciI7CmltcG9ydCBfc2xpY2VkVG9BcnJheSBmcm9tICIvVXNlcnMvYW51c29ybm1lbm5ha3JlZC9Eb2N1bWVudHMvVnVlL2xpdmUtaG9tZXByby1hZG1pbi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vc2xpY2VkVG9BcnJheSI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9hbnVzb3JubWVubmFrcmVkL0RvY3VtZW50cy9WdWUvbGl2ZS1ob21lcHJvLWFkbWluL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8qIGVzbGludC1kaXNhYmxlICovCmltcG9ydCB7IEFHT1JBX0FQUF9JRCB9IGZyb20gJ0AvY29uZmlnL2Fnb3JhLmNvbmZpZyc7CmltcG9ydCBBZ29yYVJUQyBmcm9tICJhZ29yYS1ydGMtc2RrLW5nIjsKaW1wb3J0ICJ2aWRlby5qcy9kaXN0L3ZpZGVvLWpzLmNzcyI7CmltcG9ydCAidmlkZW9qcy1yZWNvcmQvZGlzdC9jc3MvdmlkZW9qcy5yZWNvcmQuY3NzIjsKaW1wb3J0IHZpZGVvanMgZnJvbSAidmlkZW8uanMiOwppbXBvcnQgIndlYnJ0Yy1hZGFwdGVyIjsKaW1wb3J0IFJlY29yZFJUQyBmcm9tICJyZWNvcmRydGMiOwppbXBvcnQgUmVjb3JkIGZyb20gInZpZGVvanMtcmVjb3JkL2Rpc3QvdmlkZW9qcy5yZWNvcmQuanMiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkxpdmVWaWV3ZXIiLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBjbGllbnQ6IHt9LAogICAgICBsb2NhbFN0cmVhbTogewogICAgICAgIGF1ZGlvVHJhY2s6IG51bGwsCiAgICAgICAgdmlkZW9UcmFjazogbnVsbAogICAgICB9LAogICAgICBsb2NhbFRyYWNrczogewogICAgICAgIHZpZGVvVHJhY2s6IG51bGwsCiAgICAgICAgYXVkaW9UcmFjazogewogICAgICAgICAgZ2V0Vm9sdW1lTGV2ZWw6IGZ1bmN0aW9uIGdldFZvbHVtZUxldmVsKCkgewogICAgICAgICAgICByZXR1cm4gMDsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sCiAgICAgIGludGVydmFsOiBudWxsLAogICAgICBwbGF5ZXI6ICIiLAogICAgICBpc1NhdmVEaXNhYmxlZDogdHJ1ZSwKICAgICAgaXNTdGFydFJlY29yZGluZzogZmFsc2UsCiAgICAgIHZpZGVvV2lkdGg6IDAsCiAgICAgIHZpZGVvSGVpZ2h0OiAwLAogICAgICBvcHRpb25zOiB7CiAgICAgICAgY29udHJvbHM6IHRydWUsCiAgICAgICAgYmlnUGxheUJ1dHRvbjogZmFsc2UsCiAgICAgICAgY29udHJvbEJhcjogewogICAgICAgICAgZGV2aWNlQnV0dG9uOiBmYWxzZSwKICAgICAgICAgIHJlY29yZFRvZ2dsZTogZmFsc2UsCiAgICAgICAgICBwaXBUb2dnbGU6IGZhbHNlCiAgICAgICAgfSwKICAgICAgICB3aWR0aDogMTAwLAogICAgICAgIGhlaWdodDogMTAwLAogICAgICAgIGZsdWlkOiB0cnVlLAogICAgICAgIHBsdWdpbnM6IHsKICAgICAgICAgIHJlY29yZDogewogICAgICAgICAgICBwaXA6IGZhbHNlLAogICAgICAgICAgICBhdWRpbzogdHJ1ZSwKICAgICAgICAgICAgdmlkZW86IHRydWUsCiAgICAgICAgICAgIG1heExlbmd0aDogMzAwMCwKICAgICAgICAgICAgZGVidWc6IHRydWUKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICB2YXIgX3lpZWxkJFByb21pc2UkYWxsLCBfeWllbGQkUHJvbWlzZSRhbGwyOwoKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF90aGlzLmNsaWVudCA9IEFnb3JhUlRDLmNyZWF0ZUNsaWVudCh7CiAgICAgICAgICAgICAgICBtb2RlOiAnbGl2ZScsCiAgICAgICAgICAgICAgICBjb2RlYzogImgyNjQiLAogICAgICAgICAgICAgICAgcm9sZTogJ2hvc3QnCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLmNsaWVudC5qb2luKEFHT1JBX0FQUF9JRCwgJ3Rlc3QxJywgbnVsbCk7CgogICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDU7CiAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKFtBZ29yYVJUQy5jcmVhdGVNaWNyb3Bob25lQXVkaW9UcmFjaygpLCBBZ29yYVJUQy5jcmVhdGVDYW1lcmFWaWRlb1RyYWNrKCldKTsKCiAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBfeWllbGQkUHJvbWlzZSRhbGwgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgIF95aWVsZCRQcm9taXNlJGFsbDIgPSBfc2xpY2VkVG9BcnJheShfeWllbGQkUHJvbWlzZSRhbGwsIDIpOwogICAgICAgICAgICAgIF90aGlzLmxvY2FsVHJhY2tzLmF1ZGlvVHJhY2sgPSBfeWllbGQkUHJvbWlzZSRhbGwyWzBdOwogICAgICAgICAgICAgIF90aGlzLmxvY2FsVHJhY2tzLnZpZGVvVHJhY2sgPSBfeWllbGQkUHJvbWlzZSRhbGwyWzFdOwoKICAgICAgICAgICAgICBfdGhpcy5zZXRDYW1lcmEoKTsKCiAgICAgICAgICAgICAgX3RoaXMubG9jYWxUcmFja3MudmlkZW9UcmFjay5wbGF5KCJwcmUtbG9jYWwtcGxheWVyIik7CgogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMzsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuY2xpZW50LnB1Ymxpc2goT2JqZWN0LnZhbHVlcyhfdGhpcy5sb2NhbFRyYWNrcykpOwoKICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICBfdGhpcy5zdGFydFJlY29yZGluZygpOwoKICAgICAgICAgICAgICBfdGhpcy5zdGFydCgpOwoKICAgICAgICAgICAgICBzZXRUaW1lb3V0KF90aGlzLmdldFdpZHRoLCAxMDApOwoKICAgICAgICAgICAgY2FzZSAxNjoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSk7CiAgICB9KSkoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHNldENhbWVyYTogZnVuY3Rpb24gc2V0Q2FtZXJhKCkgewogICAgICB0aGlzLmxvY2FsVHJhY2tzLnZpZGVvVHJhY2suc2V0RGV2aWNlKHRoaXMuJHN0b3JlLnN0YXRlLmN1cnJlbnRPcHRpb24uY2FtZXJhLmRldmljZUlkKTsKICAgICAgdGhpcy5sb2NhbFRyYWNrcy5hdWRpb1RyYWNrLnNldERldmljZSh0aGlzLiRzdG9yZS5zdGF0ZS5jdXJyZW50T3B0aW9uLm1pY3JvcGhvbmUuZGV2aWNlSWQpOwogICAgfSwKICAgIGxlYXZlOiBmdW5jdGlvbiBsZWF2ZSgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX3RoaXMyLmxvY2FsVHJhY2tzLmF1ZGlvVHJhY2suc3RvcCgpOwoKICAgICAgICAgICAgICAgIF90aGlzMi5sb2NhbFRyYWNrcy52aWRlb1RyYWNrLnN0b3AoKTsKCiAgICAgICAgICAgICAgICBfdGhpczIubG9jYWxUcmFja3MuYXVkaW9UcmFjay5jbG9zZSgpOwoKICAgICAgICAgICAgICAgIF90aGlzMi5sb2NhbFRyYWNrcy52aWRlb1RyYWNrLmNsb3NlKCk7CgogICAgICAgICAgICAgICAgX3RoaXMyLmxvY2FsVHJhY2tzLmF1ZGlvVHJhY2sgPSB1bmRlZmluZWQ7CiAgICAgICAgICAgICAgICBfdGhpczIubG9jYWxUcmFja3MudmlkZW9UcmFjayA9IHVuZGVmaW5lZDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gODsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIuY2xpZW50LmxlYXZlKCk7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHN0YXJ0UmVjb3JkaW5nOiBmdW5jdGlvbiBzdGFydFJlY29yZGluZygpIHsKICAgICAgdGhpcy5pc1N0YXJ0UmVjb3JkaW5nID0gdHJ1ZTsKICAgICAgdGhpcy5wbGF5ZXIucmVjb3JkKCkuZ2V0RGV2aWNlKCk7CiAgICB9LAogICAgc3RvcFJlY29yZDogZnVuY3Rpb24gc3RvcFJlY29yZCgpIHsKICAgICAgdGhpcy5pc1N0YXJ0UmVjb3JkaW5nID0gZmFsc2U7CiAgICAgIHRoaXMucGxheWVyLnJlY29yZCgpLnN0b3AoKTsKICAgICAgc2V0VGltZW91dCh0aGlzLnN1Ym1pdFZpZGVvLCAxMDAwKTsgLy8gICB0aGlzLnBsYXllci5yZWNvcmQoKS5zYXZlQXMoeyB2aWRlbzogIm15LXZpZGVvLWZpbGUtbmFtZS53ZWJtIiB9KTsKICAgIH0sCiAgICBzdWJtaXRWaWRlbzogZnVuY3Rpb24gc3VibWl0VmlkZW8oKSB7CiAgICAgIHRoaXMucGxheWVyLnJlY29yZCgpLnNhdmVBcyh7CiAgICAgICAgdmlkZW86ICJteS12aWRlby1maWxlLW5hbWUubXA0IgogICAgICB9KTsKICAgIH0sCiAgICBnb0hvbWU6IGZ1bmN0aW9uIGdvSG9tZSgpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIHBhdGg6ICcvJwogICAgICB9KTsKICAgIH0sCiAgICBnZXRXaWR0aDogZnVuY3Rpb24gZ2V0V2lkdGgoKSB7CiAgICAgIHRoaXMudmlkZW9XaWR0aCA9IHRoaXMubG9jYWxUcmFja3MudmlkZW9UcmFjay5fdmlkZW9XaWR0aDsKICAgICAgdGhpcy52aWRlb0hlaWdodCA9IHRoaXMubG9jYWxUcmFja3MudmlkZW9UcmFjay5fdmlkZW9IZWlnaHQ7CiAgICB9LAogICAgY3VzdG9tQ29sb3JNZXRob2Q6IGZ1bmN0aW9uIGN1c3RvbUNvbG9yTWV0aG9kKHBlcmNlbnRhZ2UpIHsKICAgICAgaWYgKHBlcmNlbnRhZ2UgPCAzMCkgewogICAgICAgIHJldHVybiAiI2NiZDVlMCI7CiAgICAgIH0gZWxzZSBpZiAocGVyY2VudGFnZSA8IDcwKSB7CiAgICAgICAgcmV0dXJuICIjMzhhMTY5IjsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gIiNmNTY1NjUiOwogICAgICB9CiAgICB9LAogICAgc3RhcnQ6IGZ1bmN0aW9uIHN0YXJ0KCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLnNlY29uZExpdmUgPSAwOwogICAgICB0aGlzLmludGVydmFsID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMy5jb250aW51ZVRpbWUoKTsKICAgICAgfSwgMTAwMCk7CiAgICB9LAogICAgY29udGludWVUaW1lOiBmdW5jdGlvbiBjb250aW51ZVRpbWUoKSB7CiAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLnNlY29uZExpdmUgKz0gMTsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICB0aGlzLnBsYXllciA9IHZpZGVvanMoIm15VmlkZW8iLCB0aGlzLm9wdGlvbnMsIGZ1bmN0aW9uICgpIHsKICAgICAgLy8gcHJpbnQgdmVyc2lvbiBpbmZvcm1hdGlvbiBhdCBzdGFydHVwCiAgICAgIHZhciBtc2cgPSAiVXNpbmcgdmlkZW8uanMgIiArIHZpZGVvanMuVkVSU0lPTiArICIgd2l0aCB2aWRlb2pzLXJlY29yZCAiICsgdmlkZW9qcy5nZXRQbHVnaW5WZXJzaW9uKCJyZWNvcmQiKSArICIgYW5kIHJlY29yZHJ0YyAiICsgUmVjb3JkUlRDLnZlcnNpb247CiAgICAgIHZpZGVvanMubG9nKG1zZyk7CiAgICB9KTsgLy8gZXJyb3IgaGFuZGxpbmcKCiAgICB0aGlzLnBsYXllci5vbigiZGV2aWNlUmVhZHkiLCBmdW5jdGlvbiAoKSB7CiAgICAgIF90aGlzNC5wbGF5ZXIucmVjb3JkKCkuc3RhcnQoKTsKCiAgICAgIGNvbnNvbGUubG9nKCJkZXZpY2UgcmVhZHk6Iik7CiAgICB9KTsKICAgIHRoaXMucGxheWVyLm9uKCJkZXZpY2VFcnJvciIsIGZ1bmN0aW9uICgpIHsKICAgICAgY29uc29sZS5sb2coImRldmljZSBlcnJvcjoiLCBfdGhpczQucGxheWVyLmRldmljZUVycm9yQ29kZSk7CiAgICB9KTsKICAgIHRoaXMucGxheWVyLm9uKCJlcnJvciIsIGZ1bmN0aW9uIChlbGVtZW50LCBlcnJvcikgewogICAgICBjb25zb2xlLmVycm9yKGVycm9yKTsKICAgIH0pOyAvLyB1c2VyIGNsaWNrZWQgdGhlIHJlY29yZCBidXR0b24gYW5kIHN0YXJ0ZWQgcmVjb3JkaW5nCgogICAgdGhpcy5wbGF5ZXIub24oInN0YXJ0UmVjb3JkIiwgZnVuY3Rpb24gKCkgewogICAgICBjb25zb2xlLmxvZygic3RhcnRlZCByZWNvcmRpbmchIik7CiAgICB9KTsgLy8gdXNlciBjb21wbGV0ZWQgcmVjb3JkaW5nIGFuZCBzdHJlYW0gaXMgYXZhaWxhYmxlCgogICAgdGhpcy5wbGF5ZXIub24oImZpbmlzaFJlY29yZCIsIGZ1bmN0aW9uICgpIHsKICAgICAgX3RoaXM0LmlzU2F2ZURpc2FibGVkID0gZmFsc2U7CiAgICAgIGNvbnNvbGUubG9nKCJmaW5pc2hlZCByZWNvcmRpbmc6ICIsIF90aGlzNC5wbGF5ZXIucmVjb3JkZWREYXRhKTsKICAgIH0pOwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGVuZExpdmU6IGZ1bmN0aW9uIGVuZExpdmUoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5lbmRMaXZlOwogICAgfSwKICAgIHNldFdpZHRoOiBmdW5jdGlvbiBzZXRXaWR0aCgpIHsKICAgICAgaWYgKHRoaXMuJHJvdXRlLnBhdGggIT09ICcvbGl2ZV9ub3cnKSB7CiAgICAgICAgcmV0dXJuIHRoaXMudmlkZW9XaWR0aCAvIDQ7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLnNlY3Rpb25MaXZlV2lkdGg7CiAgICAgIH0KICAgIH0sCiAgICBzZXRIZWlnaHQ6IGZ1bmN0aW9uIHNldEhlaWdodCgpIHsKICAgICAgaWYgKHRoaXMuJHJvdXRlLnBhdGggIT09ICcvbGl2ZV9ub3cnKSB7CiAgICAgICAgcmV0dXJuIHRoaXMudmlkZW9IZWlnaHQgLyA0OwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiA0NjA7CiAgICAgIH0KICAgIH0sCiAgICB2b2x1bWVUZXN0OiBmdW5jdGlvbiB2b2x1bWVUZXN0KCkgewogICAgICByZXR1cm4gdGhpcy5sb2NhbFRyYWNrcy5hdWRpb1RyYWNrLmdldFZvbHVtZUxldmVsKCkgKiAxMDA7CiAgICB9CiAgfSwKICB3YXRjaDogewogICAgZW5kTGl2ZTogZnVuY3Rpb24gZW5kTGl2ZSh2YWwpIHsKICAgICAgaWYgKHZhbCA9PT0gdHJ1ZSkgewogICAgICAgIHRoaXMuc3RvcFJlY29yZCgpOwogICAgICAgIHRoaXMubGVhdmUoKTsKICAgICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5lbmRMaXZlID0gZmFsc2U7CiAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdzZXRJc0xpdmUnLCBmYWxzZSk7CiAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsKTsKICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"sources":["LiveViewer.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqBA;AACA,SAAA,YAAA,QAAA,uBAAA;AACA,OAAA,QAAA,MAAA,kBAAA;AACA,OAAA,4BAAA;AACA,OAAA,4CAAA;AACA,OAAA,OAAA,MAAA,UAAA;AAEA,OAAA,gBAAA;AACA,OAAA,SAAA,MAAA,WAAA;AAEA,OAAA,MAAA,MAAA,uCAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,YADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,MAAA,EAAA,EADA;AAEA,MAAA,WAAA,EAAA;AACA,QAAA,UAAA,EAAA,IADA;AAEA,QAAA,UAAA,EAAA;AAFA,OAFA;AAMA,MAAA,WAAA,EAAA;AACA,QAAA,UAAA,EAAA,IADA;AAEA,QAAA,UAAA,EAAA;AACA,UAAA,cAAA,EAAA,0BAAA;AACA,mBAAA,CAAA;AACA;AAHA;AAFA,OANA;AAcA,MAAA,QAAA,EAAA,IAdA;AAeA,MAAA,MAAA,EAAA,EAfA;AAgBA,MAAA,cAAA,EAAA,IAhBA;AAiBA,MAAA,gBAAA,EAAA,KAjBA;AAkBA,MAAA,UAAA,EAAA,CAlBA;AAmBA,MAAA,WAAA,EAAA,CAnBA;AAoBA,MAAA,OAAA,EAAA;AACA,QAAA,QAAA,EAAA,IADA;AAEA,QAAA,aAAA,EAAA,KAFA;AAGA,QAAA,UAAA,EAAA;AACA,UAAA,YAAA,EAAA,KADA;AAEA,UAAA,YAAA,EAAA,KAFA;AAGA,UAAA,SAAA,EAAA;AAHA,SAHA;AAQA,QAAA,KAAA,EAAA,GARA;AASA,QAAA,MAAA,EAAA,GATA;AAUA,QAAA,KAAA,EAAA,IAVA;AAWA,QAAA,OAAA,EAAA;AACA,UAAA,MAAA,EAAA;AACA,YAAA,GAAA,EAAA,KADA;AAEA,YAAA,KAAA,EAAA,IAFA;AAGA,YAAA,KAAA,EAAA,IAHA;AAIA,YAAA,SAAA,EAAA,IAJA;AAKA,YAAA,KAAA,EAAA;AALA;AADA;AAXA;AApBA,KAAA;AA0CA,GA7CA;AA8CA,EAAA,OA9CA,qBA8CA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AACA,cAAA,KAAA,CAAA,MAAA,GAAA,QAAA,CAAA,YAAA,CAAA;AAAA,gBAAA,IAAA,EAAA,MAAA;AAAA,gBAAA,KAAA,EAAA,MAAA;AAAA,gBAAA,IAAA,EAAA;AAAA,eAAA,CAAA;AADA;AAAA,qBAGA,KAAA,CAAA,MAAA,CAAA,IAAA,CAAA,YAAA,EAAA,OAAA,EAAA,IAAA,CAHA;;AAAA;AAAA;AAAA,qBAQA,OAAA,CAAA,GAAA,CAAA,CACA,QAAA,CAAA,0BAAA,EADA,EAEA,QAAA,CAAA,sBAAA,EAFA,CAAA,CARA;;AAAA;AAAA;AAAA;AAMA,cAAA,KAAA,CAAA,WAAA,CAAA,UANA;AAOA,cAAA,KAAA,CAAA,WAAA,CAAA,UAPA;;AAaA,cAAA,KAAA,CAAA,SAAA;;AAEA,cAAA,KAAA,CAAA,WAAA,CAAA,UAAA,CAAA,IAAA,CAAA,kBAAA;;AAfA;AAAA,qBAiBA,KAAA,CAAA,MAAA,CAAA,OAAA,CAAA,MAAA,CAAA,MAAA,CAAA,KAAA,CAAA,WAAA,CAAA,CAjBA;;AAAA;AAmBA,cAAA,KAAA,CAAA,cAAA;;AAEA,cAAA,KAAA,CAAA,KAAA;;AAEA,cAAA,UAAA,CAAA,KAAA,CAAA,QAAA,EAAA,GAAA,CAAA;;AAvBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAyBA,GAvEA;AAyEA,EAAA,OAAA,EAAA;AACA,IAAA,SADA,uBACA;AACA,WAAA,WAAA,CAAA,UAAA,CAAA,SAAA,CAAA,KAAA,MAAA,CAAA,KAAA,CAAA,aAAA,CAAA,MAAA,CAAA,QAAA;AACA,WAAA,WAAA,CAAA,UAAA,CAAA,SAAA,CAAA,KAAA,MAAA,CAAA,KAAA,CAAA,aAAA,CAAA,UAAA,CAAA,QAAA;AACA,KAJA;AAKA,IAAA,KALA,mBAKA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,MAAA,CAAA,WAAA,CAAA,UAAA,CAAA,IAAA;;AACA,gBAAA,MAAA,CAAA,WAAA,CAAA,UAAA,CAAA,IAAA;;AACA,gBAAA,MAAA,CAAA,WAAA,CAAA,UAAA,CAAA,KAAA;;AACA,gBAAA,MAAA,CAAA,WAAA,CAAA,UAAA,CAAA,KAAA;;AACA,gBAAA,MAAA,CAAA,WAAA,CAAA,UAAA,GAAA,SAAA;AACA,gBAAA,MAAA,CAAA,WAAA,CAAA,UAAA,GAAA,SAAA;AANA;AAAA,uBAQA,MAAA,CAAA,MAAA,CAAA,KAAA,EARA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA,KAdA;AAeA,IAAA,cAfA,4BAeA;AACA,WAAA,gBAAA,GAAA,IAAA;AACA,WAAA,MAAA,CAAA,MAAA,GAAA,SAAA;AACA,KAlBA;AAmBA,IAAA,UAnBA,wBAmBA;AACA,WAAA,gBAAA,GAAA,KAAA;AACA,WAAA,MAAA,CAAA,MAAA,GAAA,IAAA;AACA,MAAA,UAAA,CAAA,KAAA,WAAA,EAAA,IAAA,CAAA,CAHA,CAIA;AACA,KAxBA;AAyBA,IAAA,WAzBA,yBAyBA;AACA,WAAA,MAAA,CAAA,MAAA,GAAA,MAAA,CAAA;AAAA,QAAA,KAAA,EAAA;AAAA,OAAA;AACA,KA3BA;AA4BA,IAAA,MA5BA,oBA4BA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA;AAAA,QAAA,IAAA,EAAA;AAAA,OAAA;AACA,KA9BA;AA+BA,IAAA,QA/BA,sBA+BA;AACA,WAAA,UAAA,GAAA,KAAA,WAAA,CAAA,UAAA,CAAA,WAAA;AACA,WAAA,WAAA,GAAA,KAAA,WAAA,CAAA,UAAA,CAAA,YAAA;AACA,KAlCA;AAmCA,IAAA,iBAnCA,6BAmCA,UAnCA,EAmCA;AACA,UAAA,UAAA,GAAA,EAAA,EAAA;AACA,eAAA,SAAA;AACA,OAFA,MAEA,IAAA,UAAA,GAAA,EAAA,EAAA;AACA,eAAA,SAAA;AACA,OAFA,MAEA;AACA,eAAA,SAAA;AACA;AACA,KA3CA;AA4CA,IAAA,KA5CA,mBA4CA;AAAA;;AACA,WAAA,MAAA,CAAA,KAAA,CAAA,UAAA,GAAA,CAAA;AACA,WAAA,QAAA,GAAA,WAAA,CAAA,YAAA;AACA,QAAA,MAAA,CAAA,YAAA;AACA,OAFA,EAEA,IAFA,CAAA;AAGA,KAjDA;AAkDA,IAAA,YAlDA,0BAkDA;AACA,WAAA,MAAA,CAAA,KAAA,CAAA,UAAA,IAAA,CAAA;AACA;AApDA,GAzEA;AA+HA,EAAA,OA/HA,qBA+HA;AAAA;;AACA,SAAA,MAAA,GAAA,OAAA,CAAA,SAAA,EAAA,KAAA,OAAA,EAAA,YAAA;AACA;AACA,UAAA,GAAA,GACA,oBACA,OAAA,CAAA,OADA,GAEA,uBAFA,GAGA,OAAA,CAAA,gBAAA,CAAA,QAAA,CAHA,GAIA,iBAJA,GAKA,SAAA,CAAA,OANA;AAOA,MAAA,OAAA,CAAA,GAAA,CAAA,GAAA;AACA,KAVA,CAAA,CADA,CAYA;;AACA,SAAA,MAAA,CAAA,EAAA,CAAA,aAAA,EAAA,YAAA;AACA,MAAA,MAAA,CAAA,MAAA,CAAA,MAAA,GAAA,KAAA;;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,eAAA;AACA,KAHA;AAIA,SAAA,MAAA,CAAA,EAAA,CAAA,aAAA,EAAA,YAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,eAAA,EAAA,MAAA,CAAA,MAAA,CAAA,eAAA;AACA,KAFA;AAGA,SAAA,MAAA,CAAA,EAAA,CAAA,OAAA,EAAA,UAAA,OAAA,EAAA,KAAA,EAAA;AACA,MAAA,OAAA,CAAA,KAAA,CAAA,KAAA;AACA,KAFA,EApBA,CAuBA;;AACA,SAAA,MAAA,CAAA,EAAA,CAAA,aAAA,EAAA,YAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,oBAAA;AACA,KAFA,EAxBA,CA2BA;;AACA,SAAA,MAAA,CAAA,EAAA,CAAA,cAAA,EAAA,YAAA;AACA,MAAA,MAAA,CAAA,cAAA,GAAA,KAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,sBAAA,EAAA,MAAA,CAAA,MAAA,CAAA,YAAA;AACA,KAHA;AAIA,GA/JA;AAgKA,EAAA,QAAA,EAAA;AACA,IAAA,OADA,qBACA;AACA,aAAA,KAAA,MAAA,CAAA,KAAA,CAAA,OAAA;AACA,KAHA;AAIA,IAAA,QAJA,sBAIA;AACA,UAAA,KAAA,MAAA,CAAA,IAAA,KAAA,WAAA,EAAA;AACA,eAAA,KAAA,UAAA,GAAA,CAAA;AACA,OAFA,MAEA;AACA,eAAA,KAAA,MAAA,CAAA,KAAA,CAAA,gBAAA;AACA;AACA,KAVA;AAWA,IAAA,SAXA,uBAWA;AACA,UAAA,KAAA,MAAA,CAAA,IAAA,KAAA,WAAA,EAAA;AACA,eAAA,KAAA,WAAA,GAAA,CAAA;AACA,OAFA,MAEA;AACA,eAAA,GAAA;AACA;AACA,KAjBA;AAkBA,IAAA,UAlBA,wBAkBA;AACA,aAAA,KAAA,WAAA,CAAA,UAAA,CAAA,cAAA,KAAA,GAAA;AACA;AApBA,GAhKA;AAsLA,EAAA,KAAA,EAAA;AACA,IAAA,OADA,mBACA,GADA,EACA;AACA,UAAA,GAAA,KAAA,IAAA,EAAA;AACA,aAAA,UAAA;AACA,aAAA,KAAA;AACA,aAAA,MAAA,CAAA,KAAA,CAAA,OAAA,GAAA,KAAA;AACA,aAAA,MAAA,CAAA,MAAA,CAAA,WAAA,EAAA,KAAA;AACA,QAAA,aAAA,CAAA,KAAA,QAAA,CAAA;AACA;AACA;AATA;AAtLA,CAAA","sourcesContent":["<template>\n  <div>\n    <div id=\"pre-local-player\" :style=\"'width:'+setWidth+'px;height:'+setHeight+'px'\"\n         class=\"player\" :class=\"{ overlap: $route.path!=='/live_now' }\">\n    </div>\n    <video id=\"myVideo\" playsinline class=\"video-js vjs-default-skin\" style=\"display: none\">\n      <p class=\"vjs-no-js\">\n        To view this video please enable JavaScript, or consider upgrading to a\n        web browser that\n        <a\n            href=\"https://videojs.com/html5-video-support/\"\n            target=\"_blank\"\n        >supports HTML5 video.</a>\n      </p>\n    </video>\n\n  </div>\n\n</template>\n\n<script>\n/* eslint-disable */\nimport {AGORA_APP_ID} from '@/config/agora.config'\nimport AgoraRTC from \"agora-rtc-sdk-ng\";\nimport \"video.js/dist/video-js.css\";\nimport \"videojs-record/dist/css/videojs.record.css\";\nimport videojs from \"video.js\";\n\nimport \"webrtc-adapter\";\nimport RecordRTC from \"recordrtc\";\n\nimport Record from \"videojs-record/dist/videojs.record.js\";\n\nexport default {\n  name: \"LiveViewer\",\n  data() {\n    return {\n      client: {},\n      localStream: {\n        audioTrack: null,\n        videoTrack: null\n      },\n      localTracks: {\n        videoTrack: null,\n        audioTrack: {\n          getVolumeLevel: function () {\n            return 0;\n          },\n        }\n      },\n      interval: null,\n      player: \"\",\n      isSaveDisabled: true,\n      isStartRecording: false,\n      videoWidth: 0,\n      videoHeight: 0,\n      options: {\n        controls: true,\n        bigPlayButton: false,\n        controlBar: {\n          deviceButton: false,\n          recordToggle: false,\n          pipToggle: false,\n        },\n        width: 100,\n        height: 100,\n        fluid: true,\n        plugins: {\n          record: {\n            pip: false,\n            audio: true,\n            video: true,\n            maxLength: 3000,\n            debug: true,\n          },\n        },\n      },\n    }\n  },\n  async created() {\n    this.client = AgoraRTC.createClient({mode: 'live', codec: \"h264\", role: 'host'})\n\n    await this.client.join(AGORA_APP_ID, 'test1', null);\n\n    [\n      this.localTracks.audioTrack,\n      this.localTracks.videoTrack,\n    ] = await Promise.all([\n      AgoraRTC.createMicrophoneAudioTrack(),\n      AgoraRTC.createCameraVideoTrack(),\n    ]);\n\n    this.setCamera()\n\n    this.localTracks.videoTrack.play(\"pre-local-player\");\n\n    await this.client.publish(Object.values(this.localTracks));\n\n    this.startRecording()\n\n    this.start()\n\n    setTimeout(this.getWidth, 100);\n\n  },\n\n  methods: {\n    setCamera() {\n      this.localTracks.videoTrack.setDevice(this.$store.state.currentOption.camera.deviceId);\n      this.localTracks.audioTrack.setDevice(this.$store.state.currentOption.microphone.deviceId)\n    },\n    async leave() {\n      this.localTracks.audioTrack.stop()\n      this.localTracks.videoTrack.stop()\n      this.localTracks.audioTrack.close()\n      this.localTracks.videoTrack.close()\n      this.localTracks.audioTrack = undefined\n      this.localTracks.videoTrack = undefined\n\n      await this.client.leave();\n    },\n    startRecording() {\n      this.isStartRecording = true;\n      this.player.record().getDevice();\n    },\n    stopRecord() {\n      this.isStartRecording = false;\n      this.player.record().stop();\n      setTimeout(this.submitVideo, 1000);\n      //   this.player.record().saveAs({ video: \"my-video-file-name.webm\" });\n    },\n    submitVideo() {\n      this.player.record().saveAs({video: \"my-video-file-name.mp4\"});\n    },\n    goHome() {\n      this.$router.push({path: '/'})\n    },\n    getWidth() {\n      this.videoWidth = this.localTracks.videoTrack._videoWidth\n      this.videoHeight = this.localTracks.videoTrack._videoHeight\n    },\n    customColorMethod(percentage) {\n      if (percentage < 30) {\n        return \"#cbd5e0\";\n      } else if (percentage < 70) {\n        return \"#38a169\";\n      } else {\n        return \"#f56565\";\n      }\n    },\n    start() {\n      this.$store.state.secondLive = 0\n      this.interval = setInterval(() => {\n        this.continueTime()\n      }, 1000)\n    },\n    continueTime() {\n      this.$store.state.secondLive += 1\n    }\n  },\n  mounted() {\n    this.player = videojs(\"myVideo\", this.options, () => {\n      // print version information at startup\n      let msg =\n          \"Using video.js \" +\n          videojs.VERSION +\n          \" with videojs-record \" +\n          videojs.getPluginVersion(\"record\") +\n          \" and recordrtc \" +\n          RecordRTC.version;\n      videojs.log(msg);\n    });\n    // error handling\n    this.player.on(\"deviceReady\", () => {\n      this.player.record().start();\n      console.log(\"device ready:\");\n    });\n    this.player.on(\"deviceError\", () => {\n      console.log(\"device error:\", this.player.deviceErrorCode);\n    });\n    this.player.on(\"error\", (element, error) => {\n      console.error(error);\n    });\n    // user clicked the record button and started recording\n    this.player.on(\"startRecord\", () => {\n      console.log(\"started recording!\");\n    });\n    // user completed recording and stream is available\n    this.player.on(\"finishRecord\", () => {\n      this.isSaveDisabled = false;\n      console.log(\"finished recording: \", this.player.recordedData);\n    });\n  },\n  computed: {\n    endLive() {\n      return this.$store.state.endLive\n    },\n    setWidth() {\n      if (this.$route.path !== '/live_now') {\n        return this.videoWidth / 4\n      } else {\n        return this.$store.state.sectionLiveWidth\n      }\n    },\n    setHeight() {\n      if (this.$route.path !== '/live_now') {\n        return this.videoHeight / 4\n      } else {\n        return 460\n      }\n    },\n    volumeTest() {\n      return this.localTracks.audioTrack.getVolumeLevel() * 100;\n    },\n  },\n  watch: {\n    endLive(val) {\n      if (val === true) {\n        this.stopRecord()\n        this.leave()\n        this.$store.state.endLive = false\n        this.$store.commit('setIsLive', false)\n        clearInterval(this.interval)\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n.overlapPlayer {\n  position: absolute;\n  z-index: 10;\n  right: 0;\n  bottom: 0;\n}\n\n.onPagePlayer {\n  position: absolute;\n  top: 100px;\n  left: 100px;\n}\n\n.player {\n  height: 426px;\n}\n\n.player >>> .agora_video_player {\n  width: 426px;\n  height: 426px;\n  object-fit: contain !important;\n}\n\n\n#pre-local-player {\n  position: absolute;\n  z-index: 10;\n  top: 76px;\n  left: 106px;\n  transition: .3s;\n  transform: translate(0%, 0%);\n}\n\n#pre-local-player.overlap {\n  margin: -10px 0 0 -10px;\n  position: fixed;\n  z-index: 10;\n  top: 100%;\n  left: 100%;\n  height: 200px;\n  min-width: 200px;\n  min-height: 200px;\n  transform: translate(-100%, -100%);\n}\n</style>"],"sourceRoot":"src/components"}]}