{"remainingRequest":"/Users/anusornmennakred/Documents/Vue/live-homepro-admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/anusornmennakred/Documents/Vue/live-homepro-admin/src/components/LiveViewer.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/anusornmennakred/Documents/Vue/live-homepro-admin/src/components/LiveViewer.vue","mtime":1597720047532},{"path":"/Users/anusornmennakred/Documents/Vue/live-homepro-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/anusornmennakred/Documents/Vue/live-homepro-admin/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/anusornmennakred/Documents/Vue/live-homepro-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/anusornmennakred/Documents/Vue/live-homepro-admin/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8qIGVzbGludC1kaXNhYmxlICovCmltcG9ydCB7QUdPUkFfQVBQX0lEfSBmcm9tICdAL2NvbmZpZy9hZ29yYS5jb25maWcnCmltcG9ydCBBZ29yYVJUQyBmcm9tICJhZ29yYS1ydGMtc2RrLW5nIjsKaW1wb3J0ICJ2aWRlby5qcy9kaXN0L3ZpZGVvLWpzLmNzcyI7CmltcG9ydCAidmlkZW9qcy1yZWNvcmQvZGlzdC9jc3MvdmlkZW9qcy5yZWNvcmQuY3NzIjsKaW1wb3J0IHZpZGVvanMgZnJvbSAidmlkZW8uanMiOwoKaW1wb3J0ICJ3ZWJydGMtYWRhcHRlciI7CmltcG9ydCBSZWNvcmRSVEMgZnJvbSAicmVjb3JkcnRjIjsKCmltcG9ydCBSZWNvcmQgZnJvbSAidmlkZW9qcy1yZWNvcmQvZGlzdC92aWRlb2pzLnJlY29yZC5qcyI7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkxpdmVWaWV3ZXIiLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBjbGllbnQ6IHt9LAogICAgICBsb2NhbFN0cmVhbTogewogICAgICAgIGF1ZGlvVHJhY2s6IG51bGwsCiAgICAgICAgdmlkZW9UcmFjazogbnVsbAogICAgICB9LAogICAgICBsb2NhbFRyYWNrczogewogICAgICAgIHZpZGVvVHJhY2s6IG51bGwsCiAgICAgICAgYXVkaW9UcmFjazogewogICAgICAgICAgZ2V0Vm9sdW1lTGV2ZWw6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgcmV0dXJuIDA7CiAgICAgICAgICB9LAogICAgICAgIH0KICAgICAgfSwKICAgICAgaW50ZXJ2YWw6IG51bGwsCiAgICAgIHBsYXllcjogIiIsCiAgICAgIGlzU2F2ZURpc2FibGVkOiB0cnVlLAogICAgICBpc1N0YXJ0UmVjb3JkaW5nOiBmYWxzZSwKICAgICAgdmlkZW9XaWR0aDogMCwKICAgICAgdmlkZW9IZWlnaHQ6IDAsCiAgICAgIG9wdGlvbnM6IHsKICAgICAgICBjb250cm9sczogdHJ1ZSwKICAgICAgICBiaWdQbGF5QnV0dG9uOiBmYWxzZSwKICAgICAgICBjb250cm9sQmFyOiB7CiAgICAgICAgICBkZXZpY2VCdXR0b246IGZhbHNlLAogICAgICAgICAgcmVjb3JkVG9nZ2xlOiBmYWxzZSwKICAgICAgICAgIHBpcFRvZ2dsZTogZmFsc2UsCiAgICAgICAgfSwKICAgICAgICB3aWR0aDogMTAwLAogICAgICAgIGhlaWdodDogMTAwLAogICAgICAgIGZsdWlkOiB0cnVlLAogICAgICAgIHBsdWdpbnM6IHsKICAgICAgICAgIHJlY29yZDogewogICAgICAgICAgICBwaXA6IGZhbHNlLAogICAgICAgICAgICBhdWRpbzogdHJ1ZSwKICAgICAgICAgICAgdmlkZW86IHRydWUsCiAgICAgICAgICAgIG1heExlbmd0aDogMzAwMCwKICAgICAgICAgICAgZGVidWc6IHRydWUsCiAgICAgICAgICB9LAogICAgICAgIH0sCiAgICAgIH0sCiAgICB9CiAgfSwKICBhc3luYyBjcmVhdGVkKCkgewogICAgdGhpcy5jbGllbnQgPSBBZ29yYVJUQy5jcmVhdGVDbGllbnQoe21vZGU6ICdsaXZlJywgY29kZWM6ICJoMjY0Iiwgcm9sZTogJ2hvc3QnfSkKCiAgICBhd2FpdCB0aGlzLmNsaWVudC5qb2luKEFHT1JBX0FQUF9JRCwgdGhpcy4kc3RvcmUuc3RhdGUuY3VycmVudE9wdGlvbi5jaGFubmVsLCBudWxsKTsKCiAgICBbCiAgICAgIHRoaXMubG9jYWxUcmFja3MuYXVkaW9UcmFjaywKICAgICAgdGhpcy5sb2NhbFRyYWNrcy52aWRlb1RyYWNrLAogICAgXSA9IGF3YWl0IFByb21pc2UuYWxsKFsKICAgICAgQWdvcmFSVEMuY3JlYXRlTWljcm9waG9uZUF1ZGlvVHJhY2soKSwKICAgICAgQWdvcmFSVEMuY3JlYXRlQ2FtZXJhVmlkZW9UcmFjaygpLAogICAgXSk7CgogICAgdGhpcy5zZXRDYW1lcmEoKQoKICAgIHRoaXMubG9jYWxUcmFja3MudmlkZW9UcmFjay5wbGF5KCJwcmUtbG9jYWwtcGxheWVyIik7CgogICAgYXdhaXQgdGhpcy5jbGllbnQucHVibGlzaChPYmplY3QudmFsdWVzKHRoaXMubG9jYWxUcmFja3MpKTsKCiAgICB0aGlzLnN0YXJ0UmVjb3JkaW5nKCkKCiAgICB0aGlzLnN0YXJ0KCkKCiAgICBzZXRUaW1lb3V0KHRoaXMuZ2V0V2lkdGgsIDEwMCk7CgogIH0sCgogIG1ldGhvZHM6IHsKICAgIHNldENhbWVyYSgpIHsKICAgICAgdGhpcy5sb2NhbFRyYWNrcy52aWRlb1RyYWNrLnNldERldmljZSh0aGlzLiRzdG9yZS5zdGF0ZS5jdXJyZW50T3B0aW9uLmNhbWVyYS5kZXZpY2VJZCk7CiAgICAgIHRoaXMubG9jYWxUcmFja3MuYXVkaW9UcmFjay5zZXREZXZpY2UodGhpcy4kc3RvcmUuc3RhdGUuY3VycmVudE9wdGlvbi5taWNyb3Bob25lLmRldmljZUlkKQogICAgfSwKICAgIGFzeW5jIGxlYXZlKCkgewogICAgICB0aGlzLmxvY2FsVHJhY2tzLmF1ZGlvVHJhY2suc3RvcCgpCiAgICAgIHRoaXMubG9jYWxUcmFja3MudmlkZW9UcmFjay5zdG9wKCkKICAgICAgdGhpcy5sb2NhbFRyYWNrcy5hdWRpb1RyYWNrLmNsb3NlKCkKICAgICAgdGhpcy5sb2NhbFRyYWNrcy52aWRlb1RyYWNrLmNsb3NlKCkKICAgICAgdGhpcy5sb2NhbFRyYWNrcy5hdWRpb1RyYWNrID0gdW5kZWZpbmVkCiAgICAgIHRoaXMubG9jYWxUcmFja3MudmlkZW9UcmFjayA9IHVuZGVmaW5lZAoKICAgICAgYXdhaXQgdGhpcy5jbGllbnQubGVhdmUoKTsKICAgIH0sCiAgICBzdGFydFJlY29yZGluZygpIHsKICAgICAgdGhpcy5pc1N0YXJ0UmVjb3JkaW5nID0gdHJ1ZTsKICAgICAgdGhpcy5wbGF5ZXIucmVjb3JkKCkuZ2V0RGV2aWNlKCk7CiAgICB9LAogICAgc3RvcFJlY29yZCgpIHsKICAgICAgdGhpcy5pc1N0YXJ0UmVjb3JkaW5nID0gZmFsc2U7CiAgICAgIHRoaXMucGxheWVyLnJlY29yZCgpLnN0b3AoKTsKICAgICAgc2V0VGltZW91dCh0aGlzLnN1Ym1pdFZpZGVvLCAxMDAwKTsKICAgICAgLy8gICB0aGlzLnBsYXllci5yZWNvcmQoKS5zYXZlQXMoeyB2aWRlbzogIm15LXZpZGVvLWZpbGUtbmFtZS53ZWJtIiB9KTsKICAgIH0sCiAgICBzdWJtaXRWaWRlbygpIHsKICAgICAgdGhpcy5wbGF5ZXIucmVjb3JkKCkuc2F2ZUFzKHt2aWRlbzogIm15LXZpZGVvLWZpbGUtbmFtZS5tcDQifSk7CiAgICB9LAogICAgZ29Ib21lKCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7cGF0aDogJy8nfSkKICAgIH0sCiAgICBnZXRXaWR0aCgpIHsKICAgICAgdGhpcy52aWRlb1dpZHRoID0gdGhpcy5sb2NhbFRyYWNrcy52aWRlb1RyYWNrLl92aWRlb1dpZHRoCiAgICAgIHRoaXMudmlkZW9IZWlnaHQgPSB0aGlzLmxvY2FsVHJhY2tzLnZpZGVvVHJhY2suX3ZpZGVvSGVpZ2h0CiAgICB9LAogICAgY3VzdG9tQ29sb3JNZXRob2QocGVyY2VudGFnZSkgewogICAgICBpZiAocGVyY2VudGFnZSA8IDMwKSB7CiAgICAgICAgcmV0dXJuICIjY2JkNWUwIjsKICAgICAgfSBlbHNlIGlmIChwZXJjZW50YWdlIDwgNzApIHsKICAgICAgICByZXR1cm4gIiMzOGExNjkiOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiAiI2Y1NjU2NSI7CiAgICAgIH0KICAgIH0sCiAgICBzdGFydCgpIHsKICAgICAgdGhpcy4kc3RvcmUuc3RhdGUuc2Vjb25kTGl2ZSA9IDAKICAgICAgdGhpcy5pbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHsKICAgICAgICB0aGlzLmNvbnRpbnVlVGltZSgpCiAgICAgIH0sIDEwMDApCiAgICB9LAogICAgY29udGludWVUaW1lKCkgewogICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5zZWNvbmRMaXZlICs9IDEKICAgIH0KICB9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLnBsYXllciA9IHZpZGVvanMoIm15VmlkZW8iLCB0aGlzLm9wdGlvbnMsICgpID0+IHsKICAgICAgLy8gcHJpbnQgdmVyc2lvbiBpbmZvcm1hdGlvbiBhdCBzdGFydHVwCiAgICAgIGxldCBtc2cgPQogICAgICAgICAgIlVzaW5nIHZpZGVvLmpzICIgKwogICAgICAgICAgdmlkZW9qcy5WRVJTSU9OICsKICAgICAgICAgICIgd2l0aCB2aWRlb2pzLXJlY29yZCAiICsKICAgICAgICAgIHZpZGVvanMuZ2V0UGx1Z2luVmVyc2lvbigicmVjb3JkIikgKwogICAgICAgICAgIiBhbmQgcmVjb3JkcnRjICIgKwogICAgICAgICAgUmVjb3JkUlRDLnZlcnNpb247CiAgICAgIHZpZGVvanMubG9nKG1zZyk7CiAgICB9KTsKICAgIC8vIGVycm9yIGhhbmRsaW5nCiAgICB0aGlzLnBsYXllci5vbigiZGV2aWNlUmVhZHkiLCAoKSA9PiB7CiAgICAgIHRoaXMucGxheWVyLnJlY29yZCgpLnN0YXJ0KCk7CiAgICAgIGNvbnNvbGUubG9nKCJkZXZpY2UgcmVhZHk6Iik7CiAgICB9KTsKICAgIHRoaXMucGxheWVyLm9uKCJkZXZpY2VFcnJvciIsICgpID0+IHsKICAgICAgY29uc29sZS5sb2coImRldmljZSBlcnJvcjoiLCB0aGlzLnBsYXllci5kZXZpY2VFcnJvckNvZGUpOwogICAgfSk7CiAgICB0aGlzLnBsYXllci5vbigiZXJyb3IiLCAoZWxlbWVudCwgZXJyb3IpID0+IHsKICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7CiAgICB9KTsKICAgIC8vIHVzZXIgY2xpY2tlZCB0aGUgcmVjb3JkIGJ1dHRvbiBhbmQgc3RhcnRlZCByZWNvcmRpbmcKICAgIHRoaXMucGxheWVyLm9uKCJzdGFydFJlY29yZCIsICgpID0+IHsKICAgICAgY29uc29sZS5sb2coInN0YXJ0ZWQgcmVjb3JkaW5nISIpOwogICAgfSk7CiAgICAvLyB1c2VyIGNvbXBsZXRlZCByZWNvcmRpbmcgYW5kIHN0cmVhbSBpcyBhdmFpbGFibGUKICAgIHRoaXMucGxheWVyLm9uKCJmaW5pc2hSZWNvcmQiLCAoKSA9PiB7CiAgICAgIHRoaXMuaXNTYXZlRGlzYWJsZWQgPSBmYWxzZTsKICAgICAgY29uc29sZS5sb2coImZpbmlzaGVkIHJlY29yZGluZzogIiwgdGhpcy5wbGF5ZXIucmVjb3JkZWREYXRhKTsKICAgIH0pOwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGVuZExpdmUoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5lbmRMaXZlCiAgICB9LAogICAgc2V0V2lkdGgoKSB7CiAgICAgIGlmICh0aGlzLiRyb3V0ZS5wYXRoICE9PSAnL2xpdmVfbm93JykgewogICAgICAgIHJldHVybiB0aGlzLnZpZGVvV2lkdGggLyA0CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLnNlY3Rpb25MaXZlV2lkdGgKICAgICAgfQogICAgfSwKICAgIHNldEhlaWdodCgpIHsKICAgICAgaWYgKHRoaXMuJHJvdXRlLnBhdGggIT09ICcvbGl2ZV9ub3cnKSB7CiAgICAgICAgcmV0dXJuIHRoaXMudmlkZW9IZWlnaHQgLyA0CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIDQ2MAogICAgICB9CiAgICB9LAogICAgdm9sdW1lVGVzdCgpIHsKICAgICAgcmV0dXJuIHRoaXMubG9jYWxUcmFja3MuYXVkaW9UcmFjay5nZXRWb2x1bWVMZXZlbCgpICogMTAwOwogICAgfSwKICB9LAogIHdhdGNoOiB7CiAgICBlbmRMaXZlKHZhbCkgewogICAgICBpZiAodmFsID09PSB0cnVlKSB7CiAgICAgICAgdGhpcy5zdG9wUmVjb3JkKCkKICAgICAgICB0aGlzLmxlYXZlKCkKICAgICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5lbmRMaXZlID0gZmFsc2UKICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3NldElzTGl2ZScsIGZhbHNlKQogICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbCkKICAgICAgfQogICAgfQogIH0KfQo="},{"version":3,"sources":["LiveViewer.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAqBA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"LiveViewer.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div>\n    <div id=\"pre-local-player\" :style=\"'width:'+setWidth+'px;height:'+setHeight+'px'\"\n         class=\"player\" :class=\"{ overlap: $route.path!=='/live_now' }\">\n    </div>\n    <video id=\"myVideo\" playsinline class=\"video-js vjs-default-skin\" style=\"display: none\">\n      <p class=\"vjs-no-js\">\n        To view this video please enable JavaScript, or consider upgrading to a\n        web browser that\n        <a\n            href=\"https://videojs.com/html5-video-support/\"\n            target=\"_blank\"\n        >supports HTML5 video.</a>\n      </p>\n    </video>\n\n  </div>\n\n</template>\n\n<script>\n/* eslint-disable */\nimport {AGORA_APP_ID} from '@/config/agora.config'\nimport AgoraRTC from \"agora-rtc-sdk-ng\";\nimport \"video.js/dist/video-js.css\";\nimport \"videojs-record/dist/css/videojs.record.css\";\nimport videojs from \"video.js\";\n\nimport \"webrtc-adapter\";\nimport RecordRTC from \"recordrtc\";\n\nimport Record from \"videojs-record/dist/videojs.record.js\";\n\nexport default {\n  name: \"LiveViewer\",\n  data() {\n    return {\n      client: {},\n      localStream: {\n        audioTrack: null,\n        videoTrack: null\n      },\n      localTracks: {\n        videoTrack: null,\n        audioTrack: {\n          getVolumeLevel: function () {\n            return 0;\n          },\n        }\n      },\n      interval: null,\n      player: \"\",\n      isSaveDisabled: true,\n      isStartRecording: false,\n      videoWidth: 0,\n      videoHeight: 0,\n      options: {\n        controls: true,\n        bigPlayButton: false,\n        controlBar: {\n          deviceButton: false,\n          recordToggle: false,\n          pipToggle: false,\n        },\n        width: 100,\n        height: 100,\n        fluid: true,\n        plugins: {\n          record: {\n            pip: false,\n            audio: true,\n            video: true,\n            maxLength: 3000,\n            debug: true,\n          },\n        },\n      },\n    }\n  },\n  async created() {\n    this.client = AgoraRTC.createClient({mode: 'live', codec: \"h264\", role: 'host'})\n\n    await this.client.join(AGORA_APP_ID, this.$store.state.currentOption.channel, null);\n\n    [\n      this.localTracks.audioTrack,\n      this.localTracks.videoTrack,\n    ] = await Promise.all([\n      AgoraRTC.createMicrophoneAudioTrack(),\n      AgoraRTC.createCameraVideoTrack(),\n    ]);\n\n    this.setCamera()\n\n    this.localTracks.videoTrack.play(\"pre-local-player\");\n\n    await this.client.publish(Object.values(this.localTracks));\n\n    this.startRecording()\n\n    this.start()\n\n    setTimeout(this.getWidth, 100);\n\n  },\n\n  methods: {\n    setCamera() {\n      this.localTracks.videoTrack.setDevice(this.$store.state.currentOption.camera.deviceId);\n      this.localTracks.audioTrack.setDevice(this.$store.state.currentOption.microphone.deviceId)\n    },\n    async leave() {\n      this.localTracks.audioTrack.stop()\n      this.localTracks.videoTrack.stop()\n      this.localTracks.audioTrack.close()\n      this.localTracks.videoTrack.close()\n      this.localTracks.audioTrack = undefined\n      this.localTracks.videoTrack = undefined\n\n      await this.client.leave();\n    },\n    startRecording() {\n      this.isStartRecording = true;\n      this.player.record().getDevice();\n    },\n    stopRecord() {\n      this.isStartRecording = false;\n      this.player.record().stop();\n      setTimeout(this.submitVideo, 1000);\n      //   this.player.record().saveAs({ video: \"my-video-file-name.webm\" });\n    },\n    submitVideo() {\n      this.player.record().saveAs({video: \"my-video-file-name.mp4\"});\n    },\n    goHome() {\n      this.$router.push({path: '/'})\n    },\n    getWidth() {\n      this.videoWidth = this.localTracks.videoTrack._videoWidth\n      this.videoHeight = this.localTracks.videoTrack._videoHeight\n    },\n    customColorMethod(percentage) {\n      if (percentage < 30) {\n        return \"#cbd5e0\";\n      } else if (percentage < 70) {\n        return \"#38a169\";\n      } else {\n        return \"#f56565\";\n      }\n    },\n    start() {\n      this.$store.state.secondLive = 0\n      this.interval = setInterval(() => {\n        this.continueTime()\n      }, 1000)\n    },\n    continueTime() {\n      this.$store.state.secondLive += 1\n    }\n  },\n  mounted() {\n    this.player = videojs(\"myVideo\", this.options, () => {\n      // print version information at startup\n      let msg =\n          \"Using video.js \" +\n          videojs.VERSION +\n          \" with videojs-record \" +\n          videojs.getPluginVersion(\"record\") +\n          \" and recordrtc \" +\n          RecordRTC.version;\n      videojs.log(msg);\n    });\n    // error handling\n    this.player.on(\"deviceReady\", () => {\n      this.player.record().start();\n      console.log(\"device ready:\");\n    });\n    this.player.on(\"deviceError\", () => {\n      console.log(\"device error:\", this.player.deviceErrorCode);\n    });\n    this.player.on(\"error\", (element, error) => {\n      console.error(error);\n    });\n    // user clicked the record button and started recording\n    this.player.on(\"startRecord\", () => {\n      console.log(\"started recording!\");\n    });\n    // user completed recording and stream is available\n    this.player.on(\"finishRecord\", () => {\n      this.isSaveDisabled = false;\n      console.log(\"finished recording: \", this.player.recordedData);\n    });\n  },\n  computed: {\n    endLive() {\n      return this.$store.state.endLive\n    },\n    setWidth() {\n      if (this.$route.path !== '/live_now') {\n        return this.videoWidth / 4\n      } else {\n        return this.$store.state.sectionLiveWidth\n      }\n    },\n    setHeight() {\n      if (this.$route.path !== '/live_now') {\n        return this.videoHeight / 4\n      } else {\n        return 460\n      }\n    },\n    volumeTest() {\n      return this.localTracks.audioTrack.getVolumeLevel() * 100;\n    },\n  },\n  watch: {\n    endLive(val) {\n      if (val === true) {\n        this.stopRecord()\n        this.leave()\n        this.$store.state.endLive = false\n        this.$store.commit('setIsLive', false)\n        clearInterval(this.interval)\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n.overlapPlayer {\n  position: absolute;\n  z-index: 10;\n  right: 0;\n  bottom: 0;\n}\n\n.onPagePlayer {\n  position: absolute;\n  top: 100px;\n  left: 100px;\n}\n\n.player {\n  height: 426px;\n}\n\n.player >>> .agora_video_player {\n  width: 426px;\n  height: 426px;\n  object-fit: contain !important;\n}\n\n\n#pre-local-player {\n  position: absolute;\n  z-index: 10;\n  top: 76px;\n  left: 105px;\n  transition: .3s;\n  transform: translate(0%, 0%);\n}\n\n#pre-local-player.overlap {\n  margin: -10px 0 0 -10px;\n  position: fixed;\n  z-index: 10;\n  top: 100%;\n  left: 100%;\n  height: 200px;\n  min-width: 200px;\n  min-height: 200px;\n  transform: translate(-100%, -100%);\n}\n</style>"]}]}