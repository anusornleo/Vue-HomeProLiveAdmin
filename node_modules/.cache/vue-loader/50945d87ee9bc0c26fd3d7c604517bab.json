{"remainingRequest":"/Users/anusornmennakred/Documents/Vue/live-homepro-admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/anusornmennakred/Documents/Vue/live-homepro-admin/src/views/StartLivePage.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/anusornmennakred/Documents/Vue/live-homepro-admin/src/views/StartLivePage.vue","mtime":1597288471603},{"path":"/Users/anusornmennakred/Documents/Vue/live-homepro-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/anusornmennakred/Documents/Vue/live-homepro-admin/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/anusornmennakred/Documents/Vue/live-homepro-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/anusornmennakred/Documents/Vue/live-homepro-admin/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBBZ29yYVJUQyBmcm9tICJhZ29yYS1ydGMtc2RrLW5nIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJTdGFydExpdmVQYWdlIiwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbW9kZWxUaXRsZTogIiIsCiAgICAgIGNlcnJlbnRDYW1lcmE6IG51bGwsCiAgICAgIGNlcnJlbnRNaWNyb3Bob25lOiBudWxsLAogICAgICBjZXJyZW50UmVzb2x1dGlvbjogbnVsbCwKICAgICAgLy8gdm9sdW1uVGVzdDogMCwKICAgICAgY2FtZXJhczogW10sCiAgICAgIG1pY3JvcGhvbmVzOiBbXSwKICAgICAgbG9jYWxUcmFja3M6IHsKICAgICAgICB2aWRlb1RyYWNrOiBudWxsLAogICAgICAgIGF1ZGlvVHJhY2s6IHsKICAgICAgICAgIGdldFZvbHVtZUxldmVsOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHJldHVybiAwOwogICAgICAgICAgfSwKICAgICAgICB9LAogICAgICB9LAogICAgICByZXNvbHV0aW9uczogWwogICAgICAgIHsKICAgICAgICAgIGxhYmVsOiAiNzIweDEyODAgMTVwIiwKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIGxhYmVsOiAiNzIweDEyODAgMzBwIiwKICAgICAgICB9LAogICAgICBdLAogICAgfTsKICB9LAogIGFzeW5jIGJlZm9yZUNyZWF0ZSgpIHsKICAgIHRoaXMuY2FtZXJhcyA9IGF3YWl0IEFnb3JhUlRDLmdldENhbWVyYXMoKTsKICAgIHRoaXMubWljcm9waG9uZXMgPSBhd2FpdCBBZ29yYVJUQy5nZXRNaWNyb3Bob25lcygpOwoKICAgIFsKICAgICAgdGhpcy5sb2NhbFRyYWNrcy5hdWRpb1RyYWNrLAogICAgICB0aGlzLmxvY2FsVHJhY2tzLnZpZGVvVHJhY2ssCiAgICBdID0gYXdhaXQgUHJvbWlzZS5hbGwoWwogICAgICBBZ29yYVJUQy5jcmVhdGVNaWNyb3Bob25lQXVkaW9UcmFjaygpLAogICAgICBBZ29yYVJUQy5jcmVhdGVDYW1lcmFWaWRlb1RyYWNrKCksCiAgICBdKTsKCiAgICB0aGlzLmxvY2FsVHJhY2tzLnZpZGVvVHJhY2sucGxheSgicHJlLWxvY2FsLXBsYXllciIpOwoKICAgIHRoaXMuY2FtZXJhcy5sZW5ndGggPT0gMAogICAgICA/ICh0aGlzLmNlcnJlbnRDYW1lcmEgPSAiTm8gQ2FtZXJhIikKICAgICAgOiAodGhpcy5jZXJyZW50Q2FtZXJhID0gdGhpcy5jYW1lcmFzWzBdKTsKCiAgICB0aGlzLm1pY3JvcGhvbmVzLmxlbmd0aCA9PSAwCiAgICAgID8gKHRoaXMuY2VycmVudE1pY3JvcGhvbmUgPSAiTm8gTWljcm9waG9uZSIpCiAgICAgIDogKHRoaXMuY2VycmVudE1pY3JvcGhvbmUgPSB0aGlzLm1pY3JvcGhvbmVzWzBdKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGN1c3RvbUNvbG9yTWV0aG9kKHBlcmNlbnRhZ2UpIHsKICAgICAgaWYgKHBlcmNlbnRhZ2UgPCAzMCkgewogICAgICAgIHJldHVybiAiI2NiZDVlMCI7CiAgICAgIH0gZWxzZSBpZiAocGVyY2VudGFnZSA8IDcwKSB7CiAgICAgICAgcmV0dXJuICIjMzhhMTY5IjsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gIiNmNTY1NjUiOwogICAgICB9CiAgICB9LAogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHZvbHVtblRlc3QoKSB7CiAgICAgIHJldHVybiB0aGlzLmxvY2FsVHJhY2tzLmF1ZGlvVHJhY2suZ2V0Vm9sdW1lTGV2ZWwoKSAqIDEwMDsKICAgIH0sCiAgfSwKICB3YXRjaDogewogICAgY2VycmVudENhbWVyYShjYW1lcmEpIHsKICAgICAgdGhpcy5sb2NhbFRyYWNrcy52aWRlb1RyYWNrLnNldERldmljZShjYW1lcmEuZGV2aWNlSWQpOwogICAgfSwKICAgIGNlcnJlbnRNaWNyb3Bob25lKG1pY3JvcGhvbmUpIHsKICAgICAgdGhpcy5sb2NhbFRyYWNrcy5hdWRpb1RyYWNrLnNldERldmljZShtaWNyb3Bob25lLmRldmljZUlkKTsKICAgIH0sCiAgfSwKfTsK"},{"version":3,"sources":["StartLivePage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"StartLivePage.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div>\n    <h1 class=\"text-3xl mb-6\">Start to Live</h1>\n    <div class=\"flex flex-row\">\n      <div class=\"w-1/3\">\n        <div id=\"pre-local-player\" class=\"player w-full\"></div>\n        <el-progress :percentage=\"volumnTest\" :color=\"customColorMethod\" :show-text=\"false\"></el-progress>\n      </div>\n      <div class=\"w-2/3 flex flex-wrap content-betweent ml-10\">\n        <div class=\"w-1/4 text-xl\">Title</div>\n        <div class=\"w-3/4\">\n          <el-input placeholder=\"Please input\" v-model=\"modelTitle\"></el-input>\n        </div>\n        <div class=\"w-1/4 text-xl\">Camera</div>\n        <div class=\"w-3/4\">\n          <el-select v-model=\"cerrentCamera\" placeholder=\"Select\" style=\"width:100%\">\n            <el-option\n              v-for=\"camera in cameras\"\n              :key=\"camera.id\"\n              :label=\"camera.label\"\n              :value=\"camera\"\n            ></el-option>\n          </el-select>\n        </div>\n        <div class=\"w-1/4 text-xl\">Microphone</div>\n        <div class=\"w-3/4\">\n          <el-select v-model=\"cerrentMicrophone\" placeholder=\"Select\" style=\"width:100%\">\n            <el-option\n              v-for=\"microphone in microphones\"\n              :key=\"microphone.id\"\n              :label=\"microphone.label\"\n              :value=\"microphone\"\n            ></el-option>\n          </el-select>\n        </div>\n        <div class=\"w-1/4 text-xl\">Resolution</div>\n        <div class=\"w-3/4\">\n          <el-select v-model=\"cerrentResolution\" placeholder=\"Select\" style=\"width:100%\">\n            <el-option\n              v-for=\"resolution in resolutions\"\n              :key=\"resolution.id\"\n              :label=\"resolution.label\"\n              :value=\"resolution.label\"\n            ></el-option>\n          </el-select>\n        </div>\n      </div>\n    </div>\n    <h1 class=\"text-3xl\">Product in Live</h1>\n  </div>\n</template>\n\n<script>\nimport AgoraRTC from \"agora-rtc-sdk-ng\";\nexport default {\n  name: \"StartLivePage\",\n  data() {\n    return {\n      modelTitle: \"\",\n      cerrentCamera: null,\n      cerrentMicrophone: null,\n      cerrentResolution: null,\n      // volumnTest: 0,\n      cameras: [],\n      microphones: [],\n      localTracks: {\n        videoTrack: null,\n        audioTrack: {\n          getVolumeLevel: function () {\n            return 0;\n          },\n        },\n      },\n      resolutions: [\n        {\n          label: \"720x1280 15p\",\n        },\n        {\n          label: \"720x1280 30p\",\n        },\n      ],\n    };\n  },\n  async beforeCreate() {\n    this.cameras = await AgoraRTC.getCameras();\n    this.microphones = await AgoraRTC.getMicrophones();\n\n    [\n      this.localTracks.audioTrack,\n      this.localTracks.videoTrack,\n    ] = await Promise.all([\n      AgoraRTC.createMicrophoneAudioTrack(),\n      AgoraRTC.createCameraVideoTrack(),\n    ]);\n\n    this.localTracks.videoTrack.play(\"pre-local-player\");\n\n    this.cameras.length == 0\n      ? (this.cerrentCamera = \"No Camera\")\n      : (this.cerrentCamera = this.cameras[0]);\n\n    this.microphones.length == 0\n      ? (this.cerrentMicrophone = \"No Microphone\")\n      : (this.cerrentMicrophone = this.microphones[0]);\n  },\n  methods: {\n    customColorMethod(percentage) {\n      if (percentage < 30) {\n        return \"#cbd5e0\";\n      } else if (percentage < 70) {\n        return \"#38a169\";\n      } else {\n        return \"#f56565\";\n      }\n    },\n  },\n  computed: {\n    volumnTest() {\n      return this.localTracks.audioTrack.getVolumeLevel() * 100;\n    },\n  },\n  watch: {\n    cerrentCamera(camera) {\n      this.localTracks.videoTrack.setDevice(camera.deviceId);\n    },\n    cerrentMicrophone(microphone) {\n      this.localTracks.audioTrack.setDevice(microphone.deviceId);\n    },\n  },\n};\n</script>\n\n<style scoped>\n.player {\n  height: 426px;\n}\n\n.el-select > .el-input {\n  display: block;\n  width: 500px;\n}\n.player >>> .agora_video_player {\n  width: 426px;\n  height: 426px;\n  object-fit: contain !important;\n}\n</style>"]}]}