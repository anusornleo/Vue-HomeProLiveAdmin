{"remainingRequest":"/Users/anusornmennakred/Documents/Vue/live-homepro-admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/anusornmennakred/Documents/Vue/live-homepro-admin/src/components/LiveViewer.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/anusornmennakred/Documents/Vue/live-homepro-admin/src/components/LiveViewer.vue","mtime":1597657854068},{"path":"/Users/anusornmennakred/Documents/Vue/live-homepro-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/anusornmennakred/Documents/Vue/live-homepro-admin/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/anusornmennakred/Documents/Vue/live-homepro-admin/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/anusornmennakred/Documents/Vue/live-homepro-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/anusornmennakred/Documents/Vue/live-homepro-admin/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8qIGVzbGludC1kaXNhYmxlICovCmltcG9ydCB7QUdPUkFfQVBQX0lEfSBmcm9tICdAL2NvbmZpZy9hZ29yYS5jb25maWcnCmltcG9ydCBBZ29yYVJUQyBmcm9tICJhZ29yYS1ydGMtc2RrLW5nIjsKaW1wb3J0ICJ2aWRlby5qcy9kaXN0L3ZpZGVvLWpzLmNzcyI7CmltcG9ydCAidmlkZW9qcy1yZWNvcmQvZGlzdC9jc3MvdmlkZW9qcy5yZWNvcmQuY3NzIjsKaW1wb3J0IHZpZGVvanMgZnJvbSAidmlkZW8uanMiOwoKaW1wb3J0ICJ3ZWJydGMtYWRhcHRlciI7CmltcG9ydCBSZWNvcmRSVEMgZnJvbSAicmVjb3JkcnRjIjsKCmltcG9ydCBSZWNvcmQgZnJvbSAidmlkZW9qcy1yZWNvcmQvZGlzdC92aWRlb2pzLnJlY29yZC5qcyI7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkxpdmVWaWV3ZXIiLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBjbGllbnQ6IHt9LAogICAgICBsb2NhbFN0cmVhbTogewogICAgICAgIGF1ZGlvVHJhY2s6IG51bGwsCiAgICAgICAgdmlkZW9UcmFjazogbnVsbAogICAgICB9LAogICAgICBsb2NhbFRyYWNrczogewogICAgICAgIHZpZGVvVHJhY2s6IG51bGwsCiAgICAgICAgYXVkaW9UcmFjazogewogICAgICAgICAgZ2V0Vm9sdW1lTGV2ZWw6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgcmV0dXJuIDA7CiAgICAgICAgICB9LAogICAgICAgIH0KICAgICAgfSwKICAgICAgaW50ZXJ2YWw6IG51bGwsCiAgICAgIHBsYXllcjogIiIsCiAgICAgIGlzU2F2ZURpc2FibGVkOiB0cnVlLAogICAgICBpc1N0YXJ0UmVjb3JkaW5nOiBmYWxzZSwKICAgICAgdmlkZW9XaWR0aDogMCwKICAgICAgdmlkZW9IZWlnaHQ6IDAsCiAgICAgIG9wdGlvbnM6IHsKICAgICAgICBjb250cm9sczogdHJ1ZSwKICAgICAgICBiaWdQbGF5QnV0dG9uOiBmYWxzZSwKICAgICAgICBjb250cm9sQmFyOiB7CiAgICAgICAgICBkZXZpY2VCdXR0b246IGZhbHNlLAogICAgICAgICAgcmVjb3JkVG9nZ2xlOiBmYWxzZSwKICAgICAgICAgIHBpcFRvZ2dsZTogZmFsc2UsCiAgICAgICAgfSwKICAgICAgICB3aWR0aDogMTAwLAogICAgICAgIGhlaWdodDogMTAwLAogICAgICAgIGZsdWlkOiB0cnVlLAogICAgICAgIHBsdWdpbnM6IHsKICAgICAgICAgIHJlY29yZDogewogICAgICAgICAgICBwaXA6IGZhbHNlLAogICAgICAgICAgICBhdWRpbzogdHJ1ZSwKICAgICAgICAgICAgdmlkZW86IHRydWUsCiAgICAgICAgICAgIG1heExlbmd0aDogMzAwMCwKICAgICAgICAgICAgZGVidWc6IHRydWUsCiAgICAgICAgICB9LAogICAgICAgIH0sCiAgICAgIH0sCiAgICB9CiAgfSwKICBhc3luYyBjcmVhdGVkKCkgewogICAgdGhpcy5jbGllbnQgPSBBZ29yYVJUQy5jcmVhdGVDbGllbnQoe21vZGU6ICdsaXZlJywgY29kZWM6ICJoMjY0Iiwgcm9sZTogJ2hvc3QnfSkKCiAgICBhd2FpdCB0aGlzLmNsaWVudC5qb2luKEFHT1JBX0FQUF9JRCwgJ3Rlc3QxJywgbnVsbCk7CgogICAgWwogICAgICB0aGlzLmxvY2FsVHJhY2tzLmF1ZGlvVHJhY2ssCiAgICAgIHRoaXMubG9jYWxUcmFja3MudmlkZW9UcmFjaywKICAgIF0gPSBhd2FpdCBQcm9taXNlLmFsbChbCiAgICAgIEFnb3JhUlRDLmNyZWF0ZU1pY3JvcGhvbmVBdWRpb1RyYWNrKCksCiAgICAgIEFnb3JhUlRDLmNyZWF0ZUNhbWVyYVZpZGVvVHJhY2soKSwKICAgIF0pOwoKICAgIHRoaXMuc2V0Q2FtZXJhKCkKCiAgICB0aGlzLmxvY2FsVHJhY2tzLnZpZGVvVHJhY2sucGxheSgicHJlLWxvY2FsLXBsYXllciIpOwoKICAgIGF3YWl0IHRoaXMuY2xpZW50LnB1Ymxpc2goT2JqZWN0LnZhbHVlcyh0aGlzLmxvY2FsVHJhY2tzKSk7CgogICAgdGhpcy5zdGFydFJlY29yZGluZygpCgogICAgdGhpcy5zdGFydCgpCgogICAgc2V0VGltZW91dCh0aGlzLmdldFdpZHRoLCAxMDApOwoKICB9LAoKICBtZXRob2RzOiB7CiAgICBzZXRDYW1lcmEoKSB7CiAgICAgIHRoaXMubG9jYWxUcmFja3MudmlkZW9UcmFjay5zZXREZXZpY2UodGhpcy4kc3RvcmUuc3RhdGUuY3VycmVudE9wdGlvbi5jYW1lcmEuZGV2aWNlSWQpOwogICAgICB0aGlzLmxvY2FsVHJhY2tzLmF1ZGlvVHJhY2suc2V0RGV2aWNlKHRoaXMuJHN0b3JlLnN0YXRlLmN1cnJlbnRPcHRpb24ubWljcm9waG9uZS5kZXZpY2VJZCkKICAgIH0sCiAgICBhc3luYyBsZWF2ZSgpIHsKICAgICAgdGhpcy5sb2NhbFRyYWNrcy5hdWRpb1RyYWNrLnN0b3AoKQogICAgICB0aGlzLmxvY2FsVHJhY2tzLnZpZGVvVHJhY2suc3RvcCgpCiAgICAgIHRoaXMubG9jYWxUcmFja3MuYXVkaW9UcmFjay5jbG9zZSgpCiAgICAgIHRoaXMubG9jYWxUcmFja3MudmlkZW9UcmFjay5jbG9zZSgpCiAgICAgIHRoaXMubG9jYWxUcmFja3MuYXVkaW9UcmFjayA9IHVuZGVmaW5lZAogICAgICB0aGlzLmxvY2FsVHJhY2tzLnZpZGVvVHJhY2sgPSB1bmRlZmluZWQKCiAgICAgIGF3YWl0IHRoaXMuY2xpZW50LmxlYXZlKCk7CiAgICB9LAogICAgc3RhcnRSZWNvcmRpbmcoKSB7CiAgICAgIHRoaXMuaXNTdGFydFJlY29yZGluZyA9IHRydWU7CiAgICAgIHRoaXMucGxheWVyLnJlY29yZCgpLmdldERldmljZSgpOwogICAgfSwKICAgIHN0b3BSZWNvcmQoKSB7CiAgICAgIHRoaXMuaXNTdGFydFJlY29yZGluZyA9IGZhbHNlOwogICAgICB0aGlzLnBsYXllci5yZWNvcmQoKS5zdG9wKCk7CiAgICAgIHNldFRpbWVvdXQodGhpcy5zdWJtaXRWaWRlbywgMTAwMCk7CiAgICAgIC8vICAgdGhpcy5wbGF5ZXIucmVjb3JkKCkuc2F2ZUFzKHsgdmlkZW86ICJteS12aWRlby1maWxlLW5hbWUud2VibSIgfSk7CiAgICB9LAogICAgc3VibWl0VmlkZW8oKSB7CiAgICAgIHRoaXMucGxheWVyLnJlY29yZCgpLnNhdmVBcyh7dmlkZW86ICJteS12aWRlby1maWxlLW5hbWUubXA0In0pOwogICAgfSwKICAgIGdvSG9tZSgpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goe3BhdGg6ICcvJ30pCiAgICB9LAogICAgZ2V0V2lkdGgoKSB7CiAgICAgIHRoaXMudmlkZW9XaWR0aCA9IHRoaXMubG9jYWxUcmFja3MudmlkZW9UcmFjay5fdmlkZW9XaWR0aAogICAgICB0aGlzLnZpZGVvSGVpZ2h0ID0gdGhpcy5sb2NhbFRyYWNrcy52aWRlb1RyYWNrLl92aWRlb0hlaWdodAogICAgfSwKICAgIGN1c3RvbUNvbG9yTWV0aG9kKHBlcmNlbnRhZ2UpIHsKICAgICAgaWYgKHBlcmNlbnRhZ2UgPCAzMCkgewogICAgICAgIHJldHVybiAiI2NiZDVlMCI7CiAgICAgIH0gZWxzZSBpZiAocGVyY2VudGFnZSA8IDcwKSB7CiAgICAgICAgcmV0dXJuICIjMzhhMTY5IjsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gIiNmNTY1NjUiOwogICAgICB9CiAgICB9LAogICAgc3RhcnQoKSB7CiAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLnNlY29uZExpdmUgPSAwCiAgICAgIHRoaXMuaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7CiAgICAgICAgdGhpcy5jb250aW51ZVRpbWUoKQogICAgICB9LCAxMDAwKQogICAgfSwKICAgIGNvbnRpbnVlVGltZSgpIHsKICAgICAgdGhpcy4kc3RvcmUuc3RhdGUuc2Vjb25kTGl2ZSArPSAxCiAgICB9CiAgfSwKICBtb3VudGVkKCkgewogICAgdGhpcy5wbGF5ZXIgPSB2aWRlb2pzKCJteVZpZGVvIiwgdGhpcy5vcHRpb25zLCAoKSA9PiB7CiAgICAgIC8vIHByaW50IHZlcnNpb24gaW5mb3JtYXRpb24gYXQgc3RhcnR1cAogICAgICBsZXQgbXNnID0KICAgICAgICAgICJVc2luZyB2aWRlby5qcyAiICsKICAgICAgICAgIHZpZGVvanMuVkVSU0lPTiArCiAgICAgICAgICAiIHdpdGggdmlkZW9qcy1yZWNvcmQgIiArCiAgICAgICAgICB2aWRlb2pzLmdldFBsdWdpblZlcnNpb24oInJlY29yZCIpICsKICAgICAgICAgICIgYW5kIHJlY29yZHJ0YyAiICsKICAgICAgICAgIFJlY29yZFJUQy52ZXJzaW9uOwogICAgICB2aWRlb2pzLmxvZyhtc2cpOwogICAgfSk7CiAgICAvLyBlcnJvciBoYW5kbGluZwogICAgdGhpcy5wbGF5ZXIub24oImRldmljZVJlYWR5IiwgKCkgPT4gewogICAgICB0aGlzLnBsYXllci5yZWNvcmQoKS5zdGFydCgpOwogICAgICBjb25zb2xlLmxvZygiZGV2aWNlIHJlYWR5OiIpOwogICAgfSk7CiAgICB0aGlzLnBsYXllci5vbigiZGV2aWNlRXJyb3IiLCAoKSA9PiB7CiAgICAgIGNvbnNvbGUubG9nKCJkZXZpY2UgZXJyb3I6IiwgdGhpcy5wbGF5ZXIuZGV2aWNlRXJyb3JDb2RlKTsKICAgIH0pOwogICAgdGhpcy5wbGF5ZXIub24oImVycm9yIiwgKGVsZW1lbnQsIGVycm9yKSA9PiB7CiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpOwogICAgfSk7CiAgICAvLyB1c2VyIGNsaWNrZWQgdGhlIHJlY29yZCBidXR0b24gYW5kIHN0YXJ0ZWQgcmVjb3JkaW5nCiAgICB0aGlzLnBsYXllci5vbigic3RhcnRSZWNvcmQiLCAoKSA9PiB7CiAgICAgIGNvbnNvbGUubG9nKCJzdGFydGVkIHJlY29yZGluZyEiKTsKICAgIH0pOwogICAgLy8gdXNlciBjb21wbGV0ZWQgcmVjb3JkaW5nIGFuZCBzdHJlYW0gaXMgYXZhaWxhYmxlCiAgICB0aGlzLnBsYXllci5vbigiZmluaXNoUmVjb3JkIiwgKCkgPT4gewogICAgICB0aGlzLmlzU2F2ZURpc2FibGVkID0gZmFsc2U7CiAgICAgIGNvbnNvbGUubG9nKCJmaW5pc2hlZCByZWNvcmRpbmc6ICIsIHRoaXMucGxheWVyLnJlY29yZGVkRGF0YSk7CiAgICB9KTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBlbmRMaXZlKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUuZW5kTGl2ZQogICAgfSwKICAgIHNldFdpZHRoKCkgewogICAgICBpZiAodGhpcy4kcm91dGUucGF0aCAhPT0gJy9saXZlX25vdycpIHsKICAgICAgICByZXR1cm4gdGhpcy52aWRlb1dpZHRoIC8gNAogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5zZWN0aW9uTGl2ZVdpZHRoCiAgICAgIH0KICAgIH0sCiAgICBzZXRIZWlnaHQoKSB7CiAgICAgIGlmICh0aGlzLiRyb3V0ZS5wYXRoICE9PSAnL2xpdmVfbm93JykgewogICAgICAgIHJldHVybiB0aGlzLnZpZGVvSGVpZ2h0IC8gNAogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiA0NjAKICAgICAgfQogICAgfSwKICAgIHZvbHVtZVRlc3QoKSB7CiAgICAgIHJldHVybiB0aGlzLmxvY2FsVHJhY2tzLmF1ZGlvVHJhY2suZ2V0Vm9sdW1lTGV2ZWwoKSAqIDEwMDsKICAgIH0sCiAgfSwKICB3YXRjaDogewogICAgZW5kTGl2ZSh2YWwpIHsKICAgICAgaWYgKHZhbCA9PT0gdHJ1ZSkgewogICAgICAgIHRoaXMuc3RvcFJlY29yZCgpCiAgICAgICAgdGhpcy5sZWF2ZSgpCiAgICAgICAgdGhpcy4kc3RvcmUuc3RhdGUuZW5kTGl2ZSA9IGZhbHNlCiAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdzZXRJc0xpdmUnLCBmYWxzZSkKICAgICAgICBjbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWwpCiAgICAgIH0KICAgIH0KICB9Cn0K"},{"version":3,"sources":["LiveViewer.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAqBA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"LiveViewer.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div>\n    <div id=\"pre-local-player\" :style=\"'width:'+setWidth+'px;height:'+setHeight+'px'\"\n         class=\"player\" :class=\"{ overlap: $route.path!=='/live_now' }\">\n    </div>\n    <video id=\"myVideo\" playsinline class=\"video-js vjs-default-skin\" style=\"display: none\">\n      <p class=\"vjs-no-js\">\n        To view this video please enable JavaScript, or consider upgrading to a\n        web browser that\n        <a\n            href=\"https://videojs.com/html5-video-support/\"\n            target=\"_blank\"\n        >supports HTML5 video.</a>\n      </p>\n    </video>\n\n  </div>\n\n</template>\n\n<script>\n/* eslint-disable */\nimport {AGORA_APP_ID} from '@/config/agora.config'\nimport AgoraRTC from \"agora-rtc-sdk-ng\";\nimport \"video.js/dist/video-js.css\";\nimport \"videojs-record/dist/css/videojs.record.css\";\nimport videojs from \"video.js\";\n\nimport \"webrtc-adapter\";\nimport RecordRTC from \"recordrtc\";\n\nimport Record from \"videojs-record/dist/videojs.record.js\";\n\nexport default {\n  name: \"LiveViewer\",\n  data() {\n    return {\n      client: {},\n      localStream: {\n        audioTrack: null,\n        videoTrack: null\n      },\n      localTracks: {\n        videoTrack: null,\n        audioTrack: {\n          getVolumeLevel: function () {\n            return 0;\n          },\n        }\n      },\n      interval: null,\n      player: \"\",\n      isSaveDisabled: true,\n      isStartRecording: false,\n      videoWidth: 0,\n      videoHeight: 0,\n      options: {\n        controls: true,\n        bigPlayButton: false,\n        controlBar: {\n          deviceButton: false,\n          recordToggle: false,\n          pipToggle: false,\n        },\n        width: 100,\n        height: 100,\n        fluid: true,\n        plugins: {\n          record: {\n            pip: false,\n            audio: true,\n            video: true,\n            maxLength: 3000,\n            debug: true,\n          },\n        },\n      },\n    }\n  },\n  async created() {\n    this.client = AgoraRTC.createClient({mode: 'live', codec: \"h264\", role: 'host'})\n\n    await this.client.join(AGORA_APP_ID, 'test1', null);\n\n    [\n      this.localTracks.audioTrack,\n      this.localTracks.videoTrack,\n    ] = await Promise.all([\n      AgoraRTC.createMicrophoneAudioTrack(),\n      AgoraRTC.createCameraVideoTrack(),\n    ]);\n\n    this.setCamera()\n\n    this.localTracks.videoTrack.play(\"pre-local-player\");\n\n    await this.client.publish(Object.values(this.localTracks));\n\n    this.startRecording()\n\n    this.start()\n\n    setTimeout(this.getWidth, 100);\n\n  },\n\n  methods: {\n    setCamera() {\n      this.localTracks.videoTrack.setDevice(this.$store.state.currentOption.camera.deviceId);\n      this.localTracks.audioTrack.setDevice(this.$store.state.currentOption.microphone.deviceId)\n    },\n    async leave() {\n      this.localTracks.audioTrack.stop()\n      this.localTracks.videoTrack.stop()\n      this.localTracks.audioTrack.close()\n      this.localTracks.videoTrack.close()\n      this.localTracks.audioTrack = undefined\n      this.localTracks.videoTrack = undefined\n\n      await this.client.leave();\n    },\n    startRecording() {\n      this.isStartRecording = true;\n      this.player.record().getDevice();\n    },\n    stopRecord() {\n      this.isStartRecording = false;\n      this.player.record().stop();\n      setTimeout(this.submitVideo, 1000);\n      //   this.player.record().saveAs({ video: \"my-video-file-name.webm\" });\n    },\n    submitVideo() {\n      this.player.record().saveAs({video: \"my-video-file-name.mp4\"});\n    },\n    goHome() {\n      this.$router.push({path: '/'})\n    },\n    getWidth() {\n      this.videoWidth = this.localTracks.videoTrack._videoWidth\n      this.videoHeight = this.localTracks.videoTrack._videoHeight\n    },\n    customColorMethod(percentage) {\n      if (percentage < 30) {\n        return \"#cbd5e0\";\n      } else if (percentage < 70) {\n        return \"#38a169\";\n      } else {\n        return \"#f56565\";\n      }\n    },\n    start() {\n      this.$store.state.secondLive = 0\n      this.interval = setInterval(() => {\n        this.continueTime()\n      }, 1000)\n    },\n    continueTime() {\n      this.$store.state.secondLive += 1\n    }\n  },\n  mounted() {\n    this.player = videojs(\"myVideo\", this.options, () => {\n      // print version information at startup\n      let msg =\n          \"Using video.js \" +\n          videojs.VERSION +\n          \" with videojs-record \" +\n          videojs.getPluginVersion(\"record\") +\n          \" and recordrtc \" +\n          RecordRTC.version;\n      videojs.log(msg);\n    });\n    // error handling\n    this.player.on(\"deviceReady\", () => {\n      this.player.record().start();\n      console.log(\"device ready:\");\n    });\n    this.player.on(\"deviceError\", () => {\n      console.log(\"device error:\", this.player.deviceErrorCode);\n    });\n    this.player.on(\"error\", (element, error) => {\n      console.error(error);\n    });\n    // user clicked the record button and started recording\n    this.player.on(\"startRecord\", () => {\n      console.log(\"started recording!\");\n    });\n    // user completed recording and stream is available\n    this.player.on(\"finishRecord\", () => {\n      this.isSaveDisabled = false;\n      console.log(\"finished recording: \", this.player.recordedData);\n    });\n  },\n  computed: {\n    endLive() {\n      return this.$store.state.endLive\n    },\n    setWidth() {\n      if (this.$route.path !== '/live_now') {\n        return this.videoWidth / 4\n      } else {\n        return this.$store.state.sectionLiveWidth\n      }\n    },\n    setHeight() {\n      if (this.$route.path !== '/live_now') {\n        return this.videoHeight / 4\n      } else {\n        return 460\n      }\n    },\n    volumeTest() {\n      return this.localTracks.audioTrack.getVolumeLevel() * 100;\n    },\n  },\n  watch: {\n    endLive(val) {\n      if (val === true) {\n        this.stopRecord()\n        this.leave()\n        this.$store.state.endLive = false\n        this.$store.commit('setIsLive', false)\n        clearInterval(this.interval)\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n.overlapPlayer {\n  position: absolute;\n  z-index: 10;\n  right: 0;\n  bottom: 0;\n}\n\n.onPagePlayer {\n  position: absolute;\n  top: 100px;\n  left: 100px;\n}\n\n.player {\n  height: 426px;\n}\n\n.player >>> .agora_video_player {\n  width: 426px;\n  height: 426px;\n  object-fit: contain !important;\n}\n\n\n#pre-local-player {\n  position: absolute;\n  z-index: 10;\n  top: 76px;\n  left: 106px;\n  transition: .3s;\n  transform: translate(0%, 0%);\n}\n\n#pre-local-player.overlap {\n  margin: -10px 0 0 -10px;\n  position: fixed;\n  z-index: 10;\n  top: 100%;\n  left: 100%;\n  height: 200px;\n  min-width: 200px;\n  min-height: 200px;\n  transform: translate(-100%, -100%);\n}\n</style>"]}]}